"use strict";var NexusSDK=(()=>{var kr=Object.create;var Ee=Object.defineProperty;var Hr=Object.getOwnPropertyDescriptor;var zr=Object.getOwnPropertyNames;var Lr=Object.getPrototypeOf,$r=Object.prototype.hasOwnProperty;var Mt=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var M=(e,t)=>()=>(e&&(t=e(e=0)),t);var Bt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Nr=(e,t)=>{for(var r in t)Ee(e,r,{get:t[r],enumerable:!0})},kt=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of zr(t))!$r.call(e,i)&&i!==r&&Ee(e,i,{get:()=>t[i],enumerable:!(n=Hr(t,i))||n.enumerable});return e};var Te=(e,t,r)=>(r=e!=null?kr(Lr(e)):{},kt(t||!e||!e.__esModule?Ee(r,"default",{value:e,enumerable:!0}):r,e)),Ur=e=>kt(Ee({},"__esModule",{value:!0}),e);var Qe=Bt((fe,Ze)=>{"use strict";(function(e,t){if(typeof fe=="object"&&typeof Ze=="object")Ze.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof fe=="object"?fe:e)[n]=r[n]}})(fe,()=>(()=>{"use strict";var e={48:function(r,n,i){var p=this&&this.__awaiter||function(a,b,o,c){return new(o||(o=Promise))(function(I,A){function m(s){try{z(c.next(s))}catch(u){A(u)}}function E(s){try{z(c.throw(s))}catch(u){A(u)}}function z(s){var u;s.done?I(s.value):(u=s.value,u instanceof o?u:new o(function(T){T(u)})).then(m,E)}z((c=c.apply(a,b||[])).next())})},l=this&&this.__generator||function(a,b){var o,c,I,A,m={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return A={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function E(z){return function(s){return function(u){if(o)throw new TypeError("Generator is already executing.");for(;A&&(A=0,u[0]&&(m=0)),m;)try{if(o=1,c&&(I=2&u[0]?c.return:u[0]?c.throw||((I=c.return)&&I.call(c),0):c.next)&&!(I=I.call(c,u[1])).done)return I;switch(c=0,I&&(u=[2&u[0],I.value]),u[0]){case 0:case 1:I=u;break;case 4:return m.label++,{value:u[1],done:!1};case 5:m.label++,c=u[1],u=[0];continue;case 7:u=m.ops.pop(),m.trys.pop();continue;default:if(!((I=(I=m.trys).length>0&&I[I.length-1])||u[0]!==6&&u[0]!==2)){m=0;continue}if(u[0]===3&&(!I||u[1]>I[0]&&u[1]<I[3])){m.label=u[1];break}if(u[0]===6&&m.label<I[1]){m.label=I[1],I=u;break}if(I&&m.label<I[2]){m.label=I[2],m.ops.push(u);break}I[2]&&m.ops.pop(),m.trys.pop();continue}u=b.call(a,m)}catch(T){u=[6,T],c=0}finally{o=I=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([z,s])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.decompressFromUTF16=n.compressToUTF16=n.decompressFromBase64=n.compressToBase64=void 0;var v=i(304),f=i(134),F=new v.CompressorImpl,y=new f.DecompressorImpl,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h={};n.compressToBase64=function(a){return p(this,void 0,void 0,function(){var b;return l(this,function(o){switch(o.label){case 0:return a===null?[2,""]:[4,F.compress(a,6,function(c){return d.charAt(c)})];case 1:switch((b=o.sent()).length%4){default:case 0:return[2,b];case 1:return[2,b+"==="];case 2:return[2,b+"=="];case 3:return[2,b+"="]}return[2]}})})},n.decompressFromBase64=function(a){return p(this,void 0,void 0,function(){return l(this,function(b){switch(b.label){case 0:return a===null?[2,""]:a===""?[2,null]:[4,y.decompress(a.length,32,function(o){return function(c,I){if(!h[c]){h[c]={};for(var A=0;A<c.length;A++)h[c][c.charAt(A)]=A}return h[c][I]}(d,a.charAt(o))})];case 1:return[2,b.sent()]}})})},n.compressToUTF16=function(a){return p(this,void 0,void 0,function(){return l(this,function(b){switch(b.label){case 0:return a===null?[2,""]:[4,F.compress(a,15,function(o){return String.fromCharCode(o+32)})];case 1:return[2,b.sent()+" "]}})})},n.decompressFromUTF16=function(a){return p(this,void 0,void 0,function(){return l(this,function(b){switch(b.label){case 0:return a===null?[2,""]:a===""?[2,null]:[4,y.decompress(a.length,16384,function(o){return a.charCodeAt(o)-32})];case 1:return[2,b.sent()]}})})}},304:function(r,n,i){var p=this&&this.__awaiter||function(y,d,h,a){return new(h||(h=Promise))(function(b,o){function c(m){try{A(a.next(m))}catch(E){o(E)}}function I(m){try{A(a.throw(m))}catch(E){o(E)}}function A(m){var E;m.done?b(m.value):(E=m.value,E instanceof h?E:new h(function(z){z(E)})).then(c,I)}A((a=a.apply(y,d||[])).next())})},l=this&&this.__generator||function(y,d){var h,a,b,o,c={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return o={next:I(0),throw:I(1),return:I(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function I(A){return function(m){return function(E){if(h)throw new TypeError("Generator is already executing.");for(;o&&(o=0,E[0]&&(c=0)),c;)try{if(h=1,a&&(b=2&E[0]?a.return:E[0]?a.throw||((b=a.return)&&b.call(a),0):a.next)&&!(b=b.call(a,E[1])).done)return b;switch(a=0,b&&(E=[2&E[0],b.value]),E[0]){case 0:case 1:b=E;break;case 4:return c.label++,{value:E[1],done:!1};case 5:c.label++,a=E[1],E=[0];continue;case 7:E=c.ops.pop(),c.trys.pop();continue;default:if(!((b=(b=c.trys).length>0&&b[b.length-1])||E[0]!==6&&E[0]!==2)){c=0;continue}if(E[0]===3&&(!b||E[1]>b[0]&&E[1]<b[3])){c.label=E[1];break}if(E[0]===6&&c.label<b[1]){c.label=b[1],b=E;break}if(b&&c.label<b[2]){c.label=b[2],c.ops.push(E);break}b[2]&&c.ops.pop(),c.trys.pop();continue}E=d.call(y,c)}catch(z){E=[6,z],a=0}finally{h=b=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([A,m])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompressorImpl=void 0;var v=i(658),f=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],F=function(){function y(){}return y.writeValueToData=function(d,h,a,b,o){if(a%4!=0||d.dataPosition+a>b-1)for(var c=0;c<a;c++)d.dataVal=d.dataVal<<1|1&h,d.dataPosition==b-1?(d.dataPosition=0,d.data.push(o(d.dataVal)),d.dataVal=0):d.dataPosition++,h>>=1;else d.dataVal<<=a,d.dataVal|=function(I,A){for(var m=0,E=0;E<A;++E)m<<=4,m|=f[15&I],I>>=4;return m}(h,a/4),d.dataPosition+=a},y.writeWToDataVal=function(d,h,a){d.dictionaryToCreate.has(d.w)?(d.w.charCodeAt(0)<256?(y.writeValueToData(d,0,d.numBits,h,a),y.writeValueToData(d,d.w.charCodeAt(0),8,h,a)):(y.writeValueToData(d,1,d.numBits,h,a),y.writeValueToData(d,d.w.charCodeAt(0),16,h,a)),d.enlargeIn--,d.enlargeIn==0&&(d.enlargeIn=Math.pow(2,d.numBits),d.numBits++),d.dictionaryToCreate.delete(d.w)):y.writeValueToData(d,d.dictionary.get(d.w),d.numBits,h,a),d.enlargeIn--,d.enlargeIn==0&&(d.enlargeIn=Math.pow(2,d.numBits),d.numBits++)},y.loopIteration=function(d,h,a,b,o){var c=d.charAt(h);o.dictionary.has(c)||(o.dictionary.set(c,o.dictSize++),o.dictionaryToCreate.set(c,!0));var I=o.w+c;o.dictionary.has(I)?o.w=I:(this.writeWToDataVal(o,a,b),o.dictionary.set(I,o.dictSize++),o.w=String(c))},y.prototype.compress=function(d,h,a){var b=this;return new Promise(function(o){return p(b,void 0,void 0,function(){var c,I;return l(this,function(A){switch(A.label){case 0:if(d==null)return o(""),[2];c={data:[],dataPosition:0,dataVal:0,dictionary:new Map,dictionaryToCreate:new Map,dictSize:3,enlargeIn:2,numBits:2,w:""},I=0,A.label=1;case 1:return I<d.length?(y.loopIteration(d,I,h,a,c),I%1e4!=0?[3,3]:[4,(0,v.wait)()]):[3,4];case 2:A.sent(),A.label=3;case 3:return I+=1,[3,1];case 4:return c.w!==""&&y.writeWToDataVal(c,h,a),y.writeValueToData(c,2,c.numBits,h,a),c.dataVal<<=h-c.dataPosition,c.data.push(a(c.dataVal)),o(c.data.join("")),[2]}})})})},y}();n.CompressorImpl=F},134:function(r,n,i){var p=this&&this.__awaiter||function(F,y,d,h){return new(d||(d=Promise))(function(a,b){function o(A){try{I(h.next(A))}catch(m){b(m)}}function c(A){try{I(h.throw(A))}catch(m){b(m)}}function I(A){var m;A.done?a(A.value):(m=A.value,m instanceof d?m:new d(function(E){E(m)})).then(o,c)}I((h=h.apply(F,y||[])).next())})},l=this&&this.__generator||function(F,y){var d,h,a,b,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return b={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function c(I){return function(A){return function(m){if(d)throw new TypeError("Generator is already executing.");for(;b&&(b=0,m[0]&&(o=0)),o;)try{if(d=1,h&&(a=2&m[0]?h.return:m[0]?h.throw||((a=h.return)&&a.call(h),0):h.next)&&!(a=a.call(h,m[1])).done)return a;switch(h=0,a&&(m=[2&m[0],a.value]),m[0]){case 0:case 1:a=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,h=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||m[0]!==6&&m[0]!==2)){o=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){o.label=m[1];break}if(m[0]===6&&o.label<a[1]){o.label=a[1],a=m;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(m);break}a[2]&&o.ops.pop(),o.trys.pop();continue}m=y.call(F,o)}catch(E){m=[6,E],h=0}finally{d=a=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([I,A])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.DecompressorImpl=void 0;var v=i(658),f=function(){function F(){}return F.prototype.decompress=function(y,d,h){var a=this;return new Promise(function(b){return p(a,void 0,void 0,function(){var o,c,I;return l(this,function(A){switch(A.label){case 0:for(o={bits:0,c:null,dataIndex:1,dataPosition:d,dataVal:h(0),dictionary:new Map,dictSize:4,enlargeIn:4,entry:"",maxPower:Math.pow(2,2),numBits:3,power:1,resb:null,result:[],w:null},c=0;c<3;c+=1)o.dictionary.set(c,c);for(;o.power!=o.maxPower;)o.resb=o.dataVal&o.dataPosition,o.dataPosition>>=1,o.dataPosition==0&&(o.dataPosition=d,o.dataVal=h(o.dataIndex++)),o.bits|=(o.resb>0?1:0)*o.power,o.power<<=1;switch(o.bits){case 0:for(o.bits=0,o.maxPower=Math.pow(2,8),o.power=1;o.power!=o.maxPower;)o.resb=o.dataVal&o.dataPosition,o.dataPosition>>=1,o.dataPosition==0&&(o.dataPosition=d,o.dataVal=h(o.dataIndex++)),o.bits|=(o.resb>0?1:0)*o.power,o.power<<=1;o.c=String.fromCharCode(o.bits);break;case 1:for(o.bits=0,o.maxPower=Math.pow(2,16),o.power=1;o.power!==o.maxPower;)o.resb=o.dataVal&o.dataPosition,o.dataPosition>>=1,o.dataPosition===0&&(o.dataPosition=d,o.dataVal=h(o.dataIndex++)),o.bits|=(o.resb>0?1:0)*o.power,o.power<<=1;o.c=String.fromCharCode(o.bits);break;case 2:return b(""),[2]}o.dictionary[3]=o.c,o.w=o.c,o.result.push(o.c),I=1,A.label=1;case 1:return I%2e4!=0?[3,3]:[4,(0,v.wait)()];case 2:A.sent(),A.label=3;case 3:if(o.dataIndex>y)return b(""),[2];for(o.bits=0,o.maxPower=Math.pow(2,o.numBits),o.power=1;o.power!=o.maxPower;)o.resb=o.dataVal&o.dataPosition,o.dataPosition>>=1,o.dataPosition==0&&(o.dataPosition=d,o.dataVal=h(o.dataIndex++)),o.bits|=(o.resb>0?1:0)*o.power,o.power<<=1;switch(o.c=o.bits){case 0:for(o.bits=0,o.maxPower=Math.pow(2,8),o.power=1;o.power!==o.maxPower;)o.resb=o.dataVal&o.dataPosition,o.dataPosition>>=1,o.dataPosition==0&&(o.dataPosition=d,o.dataVal=h(o.dataIndex++)),o.bits|=(o.resb>0?1:0)*o.power,o.power<<=1;o.dictionary[o.dictSize++]=String.fromCharCode(o.bits),o.c=o.dictSize-1,o.enlargeIn--;break;case 1:for(o.bits=0,o.maxPower=Math.pow(2,16),o.power=1;o.power!==o.maxPower;)o.resb=o.dataVal&o.dataPosition,o.dataPosition>>=1,o.dataPosition==0&&(o.dataPosition=d,o.dataVal=h(o.dataIndex++)),o.bits|=(o.resb>0?1:0)*o.power,o.power<<=1;o.dictionary[o.dictSize++]=String.fromCharCode(o.bits),o.c=o.dictSize-1,o.enlargeIn--;break;case 2:return b(o.result.join("")),[2]}if(o.enlargeIn==0&&(o.enlargeIn=Math.pow(2,o.numBits),o.numBits++),o.dictionary[o.c])o.entry=o.dictionary[o.c];else{if(o.c!==o.dictSize)return b(null),[2];o.entry=o.w+o.w.charAt(0)}return o.result.push(o.entry),o.dictionary[o.dictSize++]=o.w+o.entry.charAt(0),o.enlargeIn--,o.w=o.entry,o.enlargeIn==0&&(o.enlargeIn=Math.pow(2,o.numBits),o.numBits++),I++,[3,1];case 4:return[2]}})})})},F}();n.DecompressorImpl=f},658:function(r,n){var i=this&&this.__awaiter||function(l,v,f,F){return new(f||(f=Promise))(function(y,d){function h(o){try{b(F.next(o))}catch(c){d(c)}}function a(o){try{b(F.throw(o))}catch(c){d(c)}}function b(o){var c;o.done?y(o.value):(c=o.value,c instanceof f?c:new f(function(I){I(c)})).then(h,a)}b((F=F.apply(l,v||[])).next())})},p=this&&this.__generator||function(l,v){var f,F,y,d,h={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return d={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function a(b){return function(o){return function(c){if(f)throw new TypeError("Generator is already executing.");for(;d&&(d=0,c[0]&&(h=0)),h;)try{if(f=1,F&&(y=2&c[0]?F.return:c[0]?F.throw||((y=F.return)&&y.call(F),0):F.next)&&!(y=y.call(F,c[1])).done)return y;switch(F=0,y&&(c=[2&c[0],y.value]),c[0]){case 0:case 1:y=c;break;case 4:return h.label++,{value:c[1],done:!1};case 5:h.label++,F=c[1],c=[0];continue;case 7:c=h.ops.pop(),h.trys.pop();continue;default:if(!((y=(y=h.trys).length>0&&y[y.length-1])||c[0]!==6&&c[0]!==2)){h=0;continue}if(c[0]===3&&(!y||c[1]>y[0]&&c[1]<y[3])){h.label=c[1];break}if(c[0]===6&&h.label<y[1]){h.label=y[1],y=c;break}if(y&&h.label<y[2]){h.label=y[2],h.ops.push(c);break}y[2]&&h.ops.pop(),h.trys.pop();continue}c=v.call(l,h)}catch(I){c=[6,I],F=0}finally{f=y=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([b,o])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.wait=void 0,n.wait=function(){return i(this,void 0,void 0,function(){return p(this,function(l){return[2,new Promise(function(v){setTimeout(v,0)})]})})}}},t={};return function r(n){var i=t[n];if(i!==void 0)return i.exports;var p=t[n]={exports:{}};return e[n].call(p.exports,p,p.exports,r),p.exports}(48)})())});var et=Bt((ko,Fe)=>{"use strict";(function(){"use strict";var e="input is invalid type",t=typeof window=="object",r=t?window:{};r.JS_SHA256_NO_WINDOW&&(t=!1);var n=!t&&typeof self=="object",i=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;i?r=global:n&&(r=self);var p=!r.JS_SHA256_NO_COMMON_JS&&typeof Fe=="object"&&Fe.exports,l=typeof define=="function"&&define.amd,v=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),F=[-2147483648,8388608,32768,128],y=[24,16,8,0],d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=["hex","array","digest","arrayBuffer"],a=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(s){return Object.prototype.toString.call(s)==="[object Array]"}),v&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(s){return typeof s=="object"&&s.buffer&&s.buffer.constructor===ArrayBuffer});var b=function(s,u){return function(T){return new m(u,!0).update(T)[s]()}},o=function(s){var u=b("hex",s);i&&(u=c(u,s)),u.create=function(){return new m(s)},u.update=function(S){return u.create().update(S)};for(var T=0;T<h.length;++T){var w=h[T];u[w]=b(w,s)}return u},c=function(s,u){var T=Mt("crypto"),w=Mt("buffer").Buffer,S=u?"sha224":"sha256",g;w.from&&!r.JS_SHA256_NO_BUFFER_FROM?g=w.from:g=function(x){return new w(x)};var C=function(x){if(typeof x=="string")return T.createHash(S).update(x,"utf8").digest("hex");if(x==null)throw new Error(e);return x.constructor===ArrayBuffer&&(x=new Uint8Array(x)),Array.isArray(x)||ArrayBuffer.isView(x)||x.constructor===w?T.createHash(S).update(g(x)).digest("hex"):s(x)};return C},I=function(s,u){return function(T,w){return new E(T,u,!0).update(w)[s]()}},A=function(s){var u=I("hex",s);u.create=function(S){return new E(S,s)},u.update=function(S,g){return u.create(S).update(g)};for(var T=0;T<h.length;++T){var w=h[T];u[w]=I(w,s)}return u};function m(s,u){u?(a[0]=a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0,this.blocks=a):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=s}m.prototype.update=function(s){if(!this.finalized){var u,T=typeof s;if(T!=="string"){if(T==="object"){if(s===null)throw new Error(e);if(v&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!v||!ArrayBuffer.isView(s)))throw new Error(e)}else throw new Error(e);u=!0}for(var w,S=0,g,C=s.length,x=this.blocks;S<C;){if(this.hashed&&(this.hashed=!1,x[0]=this.block,this.block=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0),u)for(g=this.start;S<C&&g<64;++S)x[g>>>2]|=s[S]<<y[g++&3];else for(g=this.start;S<C&&g<64;++S)w=s.charCodeAt(S),w<128?x[g>>>2]|=w<<y[g++&3]:w<2048?(x[g>>>2]|=(192|w>>>6)<<y[g++&3],x[g>>>2]|=(128|w&63)<<y[g++&3]):w<55296||w>=57344?(x[g>>>2]|=(224|w>>>12)<<y[g++&3],x[g>>>2]|=(128|w>>>6&63)<<y[g++&3],x[g>>>2]|=(128|w&63)<<y[g++&3]):(w=65536+((w&1023)<<10|s.charCodeAt(++S)&1023),x[g>>>2]|=(240|w>>>18)<<y[g++&3],x[g>>>2]|=(128|w>>>12&63)<<y[g++&3],x[g>>>2]|=(128|w>>>6&63)<<y[g++&3],x[g>>>2]|=(128|w&63)<<y[g++&3]);this.lastByteIndex=g,this.bytes+=g-this.start,g>=64?(this.block=x[16],this.start=g-64,this.hash(),this.hashed=!0):this.start=g}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var s=this.blocks,u=this.lastByteIndex;s[16]=this.block,s[u>>>2]|=F[u&3],this.block=s[16],u>=56&&(this.hashed||this.hash(),s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),s[14]=this.hBytes<<3|this.bytes>>>29,s[15]=this.bytes<<3,this.hash()}},m.prototype.hash=function(){var s=this.h0,u=this.h1,T=this.h2,w=this.h3,S=this.h4,g=this.h5,C=this.h6,x=this.h7,P=this.blocks,B,_,D,J,R,G,X,ue,Xe,Ye,ve;for(B=16;B<64;++B)R=P[B-15],_=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,R=P[B-2],D=(R>>>17|R<<15)^(R>>>19|R<<13)^R>>>10,P[B]=P[B-16]+_+P[B-7]+D<<0;for(ve=u&T,B=0;B<64;B+=4)this.first?(this.is224?(ue=300032,R=P[0]-1413257819,x=R-150054599<<0,w=R+24177077<<0):(ue=704751109,R=P[0]-210244248,x=R-1521486534<<0,w=R+143694565<<0),this.first=!1):(_=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),D=(S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7),ue=s&u,J=ue^s&T^ve,X=S&g^~S&C,R=x+D+X+d[B]+P[B],G=_+J,x=w+R<<0,w=R+G<<0),_=(w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),D=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7),Xe=w&s,J=Xe^w&u^ue,X=x&S^~x&g,R=C+D+X+d[B+1]+P[B+1],G=_+J,C=T+R<<0,T=R+G<<0,_=(T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10),D=(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7),Ye=T&w,J=Ye^T&s^Xe,X=C&x^~C&S,R=g+D+X+d[B+2]+P[B+2],G=_+J,g=u+R<<0,u=R+G<<0,_=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),D=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),ve=u&T,J=ve^u&w^Ye,X=g&C^~g&x,R=S+D+X+d[B+3]+P[B+3],G=_+J,S=s+R<<0,s=R+G<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+s<<0,this.h1=this.h1+u<<0,this.h2=this.h2+T<<0,this.h3=this.h3+w<<0,this.h4=this.h4+S<<0,this.h5=this.h5+g<<0,this.h6=this.h6+C<<0,this.h7=this.h7+x<<0},m.prototype.hex=function(){this.finalize();var s=this.h0,u=this.h1,T=this.h2,w=this.h3,S=this.h4,g=this.h5,C=this.h6,x=this.h7,P=f[s>>>28&15]+f[s>>>24&15]+f[s>>>20&15]+f[s>>>16&15]+f[s>>>12&15]+f[s>>>8&15]+f[s>>>4&15]+f[s&15]+f[u>>>28&15]+f[u>>>24&15]+f[u>>>20&15]+f[u>>>16&15]+f[u>>>12&15]+f[u>>>8&15]+f[u>>>4&15]+f[u&15]+f[T>>>28&15]+f[T>>>24&15]+f[T>>>20&15]+f[T>>>16&15]+f[T>>>12&15]+f[T>>>8&15]+f[T>>>4&15]+f[T&15]+f[w>>>28&15]+f[w>>>24&15]+f[w>>>20&15]+f[w>>>16&15]+f[w>>>12&15]+f[w>>>8&15]+f[w>>>4&15]+f[w&15]+f[S>>>28&15]+f[S>>>24&15]+f[S>>>20&15]+f[S>>>16&15]+f[S>>>12&15]+f[S>>>8&15]+f[S>>>4&15]+f[S&15]+f[g>>>28&15]+f[g>>>24&15]+f[g>>>20&15]+f[g>>>16&15]+f[g>>>12&15]+f[g>>>8&15]+f[g>>>4&15]+f[g&15]+f[C>>>28&15]+f[C>>>24&15]+f[C>>>20&15]+f[C>>>16&15]+f[C>>>12&15]+f[C>>>8&15]+f[C>>>4&15]+f[C&15];return this.is224||(P+=f[x>>>28&15]+f[x>>>24&15]+f[x>>>20&15]+f[x>>>16&15]+f[x>>>12&15]+f[x>>>8&15]+f[x>>>4&15]+f[x&15]),P},m.prototype.toString=m.prototype.hex,m.prototype.digest=function(){this.finalize();var s=this.h0,u=this.h1,T=this.h2,w=this.h3,S=this.h4,g=this.h5,C=this.h6,x=this.h7,P=[s>>>24&255,s>>>16&255,s>>>8&255,s&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,T>>>24&255,T>>>16&255,T>>>8&255,T&255,w>>>24&255,w>>>16&255,w>>>8&255,w&255,S>>>24&255,S>>>16&255,S>>>8&255,S&255,g>>>24&255,g>>>16&255,g>>>8&255,g&255,C>>>24&255,C>>>16&255,C>>>8&255,C&255];return this.is224||P.push(x>>>24&255,x>>>16&255,x>>>8&255,x&255),P},m.prototype.array=m.prototype.digest,m.prototype.arrayBuffer=function(){this.finalize();var s=new ArrayBuffer(this.is224?28:32),u=new DataView(s);return u.setUint32(0,this.h0),u.setUint32(4,this.h1),u.setUint32(8,this.h2),u.setUint32(12,this.h3),u.setUint32(16,this.h4),u.setUint32(20,this.h5),u.setUint32(24,this.h6),this.is224||u.setUint32(28,this.h7),s};function E(s,u,T){var w,S=typeof s;if(S==="string"){var g=[],C=s.length,x=0,P;for(w=0;w<C;++w)P=s.charCodeAt(w),P<128?g[x++]=P:P<2048?(g[x++]=192|P>>>6,g[x++]=128|P&63):P<55296||P>=57344?(g[x++]=224|P>>>12,g[x++]=128|P>>>6&63,g[x++]=128|P&63):(P=65536+((P&1023)<<10|s.charCodeAt(++w)&1023),g[x++]=240|P>>>18,g[x++]=128|P>>>12&63,g[x++]=128|P>>>6&63,g[x++]=128|P&63);s=g}else if(S==="object"){if(s===null)throw new Error(e);if(v&&s.constructor===ArrayBuffer)s=new Uint8Array(s);else if(!Array.isArray(s)&&(!v||!ArrayBuffer.isView(s)))throw new Error(e)}else throw new Error(e);s.length>64&&(s=new m(u,!0).update(s).array());var B=[],_=[];for(w=0;w<64;++w){var D=s[w]||0;B[w]=92^D,_[w]=54^D}m.call(this,u,T),this.update(_),this.oKeyPad=B,this.inner=!0,this.sharedMemory=T}E.prototype=new m,E.prototype.finalize=function(){if(m.prototype.finalize.call(this),this.inner){this.inner=!1;var s=this.array();m.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(s),m.prototype.finalize.call(this)}};var z=o();z.sha256=z,z.sha224=o(!0),z.sha256.hmac=A(),z.sha224.hmac=A(!0),p?Fe.exports=z:(r.sha256=z.sha256,r.sha224=z.sha224,l&&define(function(){return z}))})()});function Q(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}var le=M(()=>{"use strict"});function $(e){return Q(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}var de=M(()=>{"use strict";le()});var at,jt=M(()=>{"use strict";at="2.21.6"});function Vt(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e?Vt(e.cause,t):t?null:e}var st,H,ie=M(()=>{"use strict";jt();st={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:at},H=class e extends Error{constructor(t,r={}){let n=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof e&&r.cause.docsPath||r.docsPath,p=st.getDocsUrl?.({...r,docsPath:i}),l=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...p?[`Docs: ${p}`]:[],...n?[`Details: ${n}`]:[],...st.version?[`Version: ${st.version}`]:[]].join(`
`);super(l,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=at}walk(t){return Vt(this,t)}}});var Me,Be,ke,He,ze,Wt=M(()=>{"use strict";de();ie();Me=class extends H{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},Be=class extends H{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${$(r)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},ke=class extends H{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},He=class extends H{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}},ze=class extends H{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}});var me,he,ct=M(()=>{"use strict";ie();me=class extends H{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},he=class extends H{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}});function N(e,{dir:t,size:r=32}={}){return typeof e=="string"?W(e,{dir:t,size:r}):qt(e,{dir:t,size:r})}function W(e,{dir:t,size:r=32}={}){if(r===null)return e;let n=e.replace("0x","");if(n.length>r*2)throw new he({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function qt(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new he({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let p=t==="right";n[p?i:r-i-1]=e[p?i:e.length-i-1]}return n}var xe=M(()=>{"use strict";ct()});var Le,$e,pt=M(()=>{"use strict";ie();Le=class extends H{constructor({max:t,min:r,signed:n,size:i,value:p}){super(`Number "${p}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},$e=class extends H{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}});function ae(e,{size:t}){if($(e)>t)throw new $e({givenSize:$(e),maxSize:t})}var ut=M(()=>{"use strict";pt();de()});function U(e,t={}){return typeof e=="number"||typeof e=="bigint"?q(e,t):typeof e=="string"?Ue(e,t):typeof e=="boolean"?Ne(e,t):ft(e,t)}function Ne(e,t={}){let r=`0x${Number(e)}`;return typeof t.size=="number"?(ae(r,{size:t.size}),N(r,{size:t.size})):r}function ft(e,t={}){let r="";for(let i=0;i<e.length;i++)r+=Or[e[i]];let n=`0x${r}`;return typeof t.size=="number"?(ae(n,{size:t.size}),N(n,{dir:"right",size:t.size})):n}function q(e,t={}){let{signed:r,size:n}=t,i=BigInt(e),p;n?r?p=(1n<<BigInt(n)*8n-1n)-1n:p=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(p=BigInt(Number.MAX_SAFE_INTEGER));let l=typeof p=="bigint"&&r?-p-1n:0;if(p&&i>p||i<l){let f=typeof e=="bigint"?"n":"";throw new Le({max:p?`${p}${f}`:void 0,min:`${l}${f}`,signed:r,size:n,value:`${e}${f}`})}let v=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?N(v,{size:n}):v}function Ue(e,t={}){let r=jr.encode(e);return ft(r,t)}var Or,jr,ye=M(()=>{"use strict";pt();xe();ut();Or=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));jr=new TextEncoder});function Jt(e,t={}){return typeof e=="number"||typeof e=="bigint"?qr(e,t):typeof e=="boolean"?Wr(e,t):Q(e)?Gt(e,t):lt(e,t)}function Wr(e,t={}){let r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(ae(r,{size:t.size}),N(r,{size:t.size})):r}function Kt(e){if(e>=K.zero&&e<=K.nine)return e-K.zero;if(e>=K.A&&e<=K.F)return e-(K.A-10);if(e>=K.a&&e<=K.f)return e-(K.a-10)}function Gt(e,t={}){let r=e;t.size&&(ae(r,{size:t.size}),r=N(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,p=new Uint8Array(i);for(let l=0,v=0;l<i;l++){let f=Kt(n.charCodeAt(v++)),F=Kt(n.charCodeAt(v++));if(f===void 0||F===void 0)throw new H(`Invalid byte sequence ("${n[v-2]}${n[v-1]}" in "${n}").`);p[l]=f*16+F}return p}function qr(e,t){let r=q(e,t);return Gt(r)}function lt(e,t={}){let r=Vr.encode(e);return typeof t.size=="number"?(ae(r,{size:t.size}),N(r,{dir:"right",size:t.size})):r}var Vr,K,dt=M(()=>{"use strict";ie();le();xe();ut();ye();Vr=new TextEncoder;K={zero:48,nine:57,A:65,F:70,a:97,f:102}});function mt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Kr(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function be(e,...t){if(!Kr(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function ht(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Xt(e,t){be(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var xt=M(()=>{"use strict"});function Jr(e,t=!1){return t?{h:Number(e&_e),l:Number(e>>Yt&_e)}:{h:Number(e>>Yt&_e)|0,l:Number(e&_e)|0}}function Zt(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:p,l}=Jr(e[i],t);[r[i],n[i]]=[p,l]}return[r,n]}var _e,Yt,Qt,er,tr,rr,or=M(()=>{"use strict";_e=BigInt(4294967295),Yt=BigInt(32);Qt=(e,t,r)=>e<<r|t>>>32-r,er=(e,t,r)=>t<<r|e>>>32-r,tr=(e,t,r)=>t<<r-32|e>>>64-r,rr=(e,t,r)=>e<<r-32|t>>>64-r});function bt(e){for(let t=0;t<e.length;t++)e[t]=Gr(e[t])}function Xr(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Oe(e){return typeof e=="string"&&(e=Xr(e)),be(e),e}function ir(e){let t=n=>e().update(Oe(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function ar(e){let t=(n,i)=>e(i).update(Oe(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}var nr,yt,Gr,De,ri,sr=M(()=>{"use strict";xt();nr=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),yt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Gr=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;De=class{clone(){return this._cloneInto()}},ri={}.toString});function no(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let l=0;l<10;l++)r[l]=e[l]^e[l+10]^e[l+20]^e[l+30]^e[l+40];for(let l=0;l<10;l+=2){let v=(l+8)%10,f=(l+2)%10,F=r[f],y=r[f+1],d=cr(F,y,1)^r[v],h=pr(F,y,1)^r[v+1];for(let a=0;a<50;a+=10)e[l+a]^=d,e[l+a+1]^=h}let i=e[2],p=e[3];for(let l=0;l<24;l++){let v=fr[l],f=cr(i,p,v),F=pr(i,p,v),y=ur[l];i=e[y],p=e[y+1],e[y]=f,e[y+1]=F}for(let l=0;l<50;l+=10){for(let v=0;v<10;v++)r[v]=e[l+v];for(let v=0;v<10;v++)e[l+v]^=~r[(v+2)%10]&r[(v+4)%10]}e[0]^=ro[n],e[1]^=oo[n]}r.fill(0)}var ur,fr,lr,Yr,ge,Zr,Qr,eo,to,ro,oo,cr,pr,je,ee,si,ci,pi,ui,fi,dr,li,di,mr,mi,hi,hr=M(()=>{"use strict";xt();or();sr();ur=[],fr=[],lr=[],Yr=BigInt(0),ge=BigInt(1),Zr=BigInt(2),Qr=BigInt(7),eo=BigInt(256),to=BigInt(113);for(let e=0,t=ge,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ur.push(2*(5*n+r)),fr.push((e+1)*(e+2)/2%64);let i=Yr;for(let p=0;p<7;p++)t=(t<<ge^(t>>Qr)*to)%eo,t&Zr&&(i^=ge<<(ge<<BigInt(p))-ge);lr.push(i)}[ro,oo]=Zt(lr,!0),cr=(e,t,r)=>r>32?tr(e,t,r):Qt(e,t,r),pr=(e,t,r)=>r>32?rr(e,t,r):er(e,t,r);je=class e extends De{constructor(t,r,n,i=!1,p=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=p,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,mt(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=nr(this.state)}keccak(){yt||bt(this.state32),no(this.state32,this.rounds),yt||bt(this.state32),this.posOut=0,this.pos=0}update(t){ht(this);let{blockLen:r,state:n}=this;t=Oe(t);let i=t.length;for(let p=0;p<i;){let l=Math.min(r-this.pos,i-p);for(let v=0;v<l;v++)n[this.pos++]^=t[p++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){ht(this,!1),be(t),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,p=t.length;i<p;){this.posOut>=n&&this.keccak();let l=Math.min(n-this.posOut,p-i);t.set(r.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return mt(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Xt(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:i,rounds:p,enableXOF:l}=this;return t||(t=new e(r,n,i,l,p)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=p,t.suffix=n,t.outputLen=i,t.enableXOF=l,t.destroyed=this.destroyed,t}},ee=(e,t,r)=>ir(()=>new je(t,e,r)),si=ee(6,144,224/8),ci=ee(6,136,256/8),pi=ee(6,104,384/8),ui=ee(6,72,512/8),fi=ee(1,144,224/8),dr=ee(1,136,256/8),li=ee(1,104,384/8),di=ee(1,72,512/8),mr=(e,t,r)=>ar((n={})=>new je(t,e,n.dkLen===void 0?r:n.dkLen,!0)),mi=mr(31,168,128/8),hi=mr(31,136,256/8)});function we(e,t){let r=t||"hex",n=dr(Q(e,{strict:!1})?Jt(e):e);return r==="bytes"?n:U(n)}var gt=M(()=>{"use strict";hr();le();dt();ye()});var se,wt=M(()=>{"use strict";ie();se=class extends H{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var pe,It=M(()=>{"use strict";pe=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});function xr(e,t){if(vt.has(`${e}.${t}`))return vt.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=we(lt(r),"bytes"),i=(t?r.substring(`${t}0x`.length):r).split("");for(let l=0;l<40;l+=2)n[l>>1]>>4>=8&&i[l]&&(i[l]=i[l].toUpperCase()),(n[l>>1]&15)>=8&&i[l+1]&&(i[l+1]=i[l+1].toUpperCase());let p=`0x${i.join("")}`;return vt.set(`${e}.${t}`,p),p}var vt,yr=M(()=>{"use strict";dt();gt();It();vt=new pe(8192)});function Ie(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(Et.has(n))return Et.get(n);let i=io.test(e)?e.toLowerCase()===e?!0:r?xr(e)===e:!0:!1;return Et.set(n,i),i}var io,Et,Tt=M(()=>{"use strict";It();yr();io=/^0x[a-fA-F0-9]{40}$/,Et=new pe(8192)});function te(e){return typeof e[0]=="string"?V(e):br(e)}function br(e){let t=0;for(let i of e)t+=i.length;let r=new Uint8Array(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return r}function V(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}var St=M(()=>{"use strict"});function gr(e,t,r,{strict:n}={}){return Q(e,{strict:!1})?so(e,t,r,{strict:n}):ao(e,t,r,{strict:n})}function wr(e,t){if(typeof t=="number"&&t>0&&t>$(e)-1)throw new me({offset:t,position:"start",size:$(e)})}function Ir(e,t,r){if(typeof t=="number"&&typeof r=="number"&&$(e)!==r-t)throw new me({offset:r,position:"end",size:$(e)})}function ao(e,t,r,{strict:n}={}){wr(e,t);let i=e.slice(t,r);return n&&Ir(i,t,r),i}function so(e,t,r,{strict:n}={}){wr(e,t);let i=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&Ir(i,t,r),i}var vr=M(()=>{"use strict";ct();le();de()});function Ft(e,t){if(e.length!==t.length)throw new ke({expectedLength:e.length,givenLength:t.length});let r=co({params:e,values:t}),n=Ct(r);return n.length===0?"0x":n}function co({params:e,values:t}){let r=[];for(let n=0;n<e.length;n++)r.push(At({param:e[n],value:t[n]}));return r}function At({param:e,value:t}){let r=yo(e.type);if(r){let[n,i]=r;return uo(t,{length:n,param:{...e,type:i}})}if(e.type==="tuple")return xo(t,{param:e});if(e.type==="address")return po(t);if(e.type==="bool")return lo(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){let n=e.type.startsWith("int");return mo(t,{signed:n})}if(e.type.startsWith("bytes"))return fo(t,{param:e});if(e.type==="string")return ho(t);throw new He(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ct(e){let t=0;for(let p=0;p<e.length;p++){let{dynamic:l,encoded:v}=e[p];l?t+=32:t+=$(v)}let r=[],n=[],i=0;for(let p=0;p<e.length;p++){let{dynamic:l,encoded:v}=e[p];l?(r.push(q(t+i,{size:32})),n.push(v),i+=$(v)):r.push(v)}return te([...r,...n])}function po(e){if(!Ie(e))throw new se({address:e});return{dynamic:!1,encoded:W(e.toLowerCase())}}function uo(e,{length:t,param:r}){let n=t===null;if(!Array.isArray(e))throw new ze(e);if(!n&&e.length!==t)throw new Me({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let i=!1,p=[];for(let l=0;l<e.length;l++){let v=At({param:r,value:e[l]});v.dynamic&&(i=!0),p.push(v)}if(n||i){let l=Ct(p);if(n){let v=q(p.length,{size:32});return{dynamic:!0,encoded:p.length>0?te([v,l]):v}}if(i)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:te(p.map(({encoded:l})=>l))}}function fo(e,{param:t}){let[,r]=t.type.split("bytes"),n=$(e);if(!r){let i=e;return n%32!==0&&(i=W(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:te([W(q(n,{size:32})),i])}}if(n!==Number.parseInt(r))throw new Be({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:W(e,{dir:"right"})}}function lo(e){if(typeof e!="boolean")throw new H(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:W(Ne(e))}}function mo(e,{signed:t}){return{dynamic:!1,encoded:q(e,{size:32,signed:t})}}function ho(e){let t=Ue(e),r=Math.ceil($(t)/32),n=[];for(let i=0;i<r;i++)n.push(W(gr(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:te([W(q($(t),{size:32})),...n])}}function xo(e,{param:t}){let r=!1,n=[];for(let i=0;i<t.components.length;i++){let p=t.components[i],l=Array.isArray(e)?i:p.name,v=At({param:p,value:e[l]});n.push(v),v.dynamic&&(r=!0)}return{dynamic:r,encoded:r?Ct(n):te(n.map(({encoded:i})=>i))}}function yo(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}var Er=M(()=>{"use strict";Wt();wt();ie();Tt();St();xe();de();vr();ye()});function Pt(e,t){if(!Ie(e,{strict:!1}))throw new se({address:e});if(!Ie(t,{strict:!1}))throw new se({address:t});return e.toLowerCase()===t.toLowerCase()}var Tr=M(()=>{"use strict";wt();Tt()});var Ao={};Nr(Ao,{FrakRpcError:()=>k,NexusContextManager:()=>Z,PressInteractionEncoder:()=>Rr,PurchaseInteractionEncoder:()=>Mr,ReferralInteractionEncoder:()=>Je,RpcErrorCodes:()=>L,createIFrameNexusClient:()=>it,createIframe:()=>ot,decompressDataAndCheckHash:()=>ne,displayModal:()=>re,hashAndCompressData:()=>oe,interactionTypes:()=>j,openSso:()=>Ar,processReferral:()=>Ge,productTypes:()=>O,productTypesMask:()=>Ot,referralInteraction:()=>Br,sendInteraction:()=>qe,sendTransaction:()=>Pr,siweAuthenticate:()=>Cr,walletStatus:()=>Ke,watchWalletStatus:()=>Re});var k=class extends Error{constructor(r,n,i){super(n);this.code=r;this.data=i}};var Se=class extends k{constructor(t){super(L.internalError,t)}};var L={parseError:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internalError:-32603,serverError:-32e3,clientNotConnected:-32001,configError:-32002,corruptedResponse:-32003,clientAborted:-32004,walletNotConnected:-32005,serverErrorForInteractionDelegation:-32006};var Y=class{_promise;_resolve;_reject;constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve=t=>{this._resolve?.(t)};reject=t=>{this._reject?.(t)}};var Ht=Te(Qe(),1),tt=Te(et(),1);async function oe(e){let t=(0,tt.sha256)(JSON.stringify(e)),r={...e,validationHash:t},n=await Ae(r),i=(0,tt.sha256)(n);return{compressed:n,compressedHash:i}}async function Ae(e){return(0,Ht.compressToBase64)(JSON.stringify(e))}var zt=Te(Qe(),1),rt=Te(et(),1);async function ne(e){if(!(e?.compressed&&e?.compressedHash))throw new k(L.corruptedResponse,"Missing compressed data");let t=await Ce(e.compressed);if(!t)throw new k(L.corruptedResponse,"Invalid compressed data");if(!t?.validationHash)throw new k(L.corruptedResponse,"Missing validation hash");if((0,rt.sha256)(e.compressed)!==e.compressedHash)throw new k(L.corruptedResponse,"Invalid compressed hash");let{validationHash:n,...i}=t;if((0,rt.sha256)(JSON.stringify(i))!==t.validationHash)throw new k(L.corruptedResponse,"Invalid data validation hash");return t}async function Ce(e){let t=await(0,zt.decompressFromBase64)(e);try{return JSON.parse(t)}catch(r){return console.error("Invalid compressed data",r),null}}var ce="nexus-wallet-backup";function Lt(){let e=new Map;return{createChannel:t=>{let r=Math.random().toString(36).substring(7);return e.set(r,t),r},getRpcResolver:t=>e.get(t),removeChannel:t=>e.delete(t),destroy:()=>e.clear()}}var Pe={id:"nexus-wallet",name:"nexus-wallet",allow:"publickey-credentials-get *; clipboard-write; web-share *",style:{width:"0",height:"0",border:"0",position:"absolute",zIndex:1e3,top:"-1000px",left:"-1000px"}};function ot({walletBaseUrl:e}){let t=document.querySelector("#nexus-wallet");if(t)return Promise.resolve(t);let r=document.createElement("iframe");return r.id=Pe.id,r.name=Pe.name,r.allow=Pe.allow,r.style.zIndex=Pe.style.zIndex.toString(),nt({iframe:r,isVisible:!1}),document.body.appendChild(r),new Promise(n=>{r?.addEventListener("load",()=>n(r)),r.src=`${e}/listener`})}function nt({iframe:e,isVisible:t}){if(!t){e.style.width="0",e.style.height="0",e.style.border="0",e.style.position="fixed",e.style.top="-1000px",e.style.left="-1000px";return}e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.pointerEvents="auto"}function $t({iframe:e}){let t=new Y;return{handleEvent:async n=>{switch(n.iframeLifecycle){case"connected":t.resolve(!0);break;case"do-backup":n.data.backup?localStorage.setItem(ce,n.data.backup):localStorage.removeItem(ce);break;case"remove-backup":localStorage.removeItem(ce);break;case"show":case"hide":nt({iframe:e,isVisible:n.iframeLifecycle==="show"});break}},isConnected:t.promise}}function Nt({nexusWalletUrl:e,iframe:t,channelManager:r,iframeLifecycleManager:n}){if(typeof window>"u")throw new k(L.configError,"iframe client should be used in the browser");if(!t.contentWindow)throw new k(L.configError,"The iframe does not have a product window");let i=t.contentWindow,p=async f=>{if(!f.origin||new URL(f.origin).origin.toLowerCase()!==new URL(e).origin.toLowerCase())return;if("iframeLifecycle"in f.data){await n.handleEvent(f.data);return}if("clientLifecycle"in f.data){console.error("Client lifecycle event received on the client side, dismissing it");return}let F=f.data.id,y=r.getRpcResolver(F);y&&await y(f.data)};return window.addEventListener("message",p),{sendEvent:f=>{i.postMessage(f,{targetOrigin:e})},cleanup:()=>{window.removeEventListener("message",p)}}}function it({config:e,iframe:t}){let r=Lt(),n=$t({iframe:t}),i=Nt({nexusWalletUrl:e.walletUrl,iframe:t,channelManager:r,iframeLifecycleManager:n}),p=async F=>{if(!await n.isConnected)throw new k(L.clientNotConnected,"The iframe provider isn't connected yet");let d=new Y,h=r.createChannel(async b=>{let o=await ne(b.data);o.error?d.reject(new k(o.error.code,o.error.message,o.error?.data)):d.resolve(o.result),r.removeChannel(h)}),a=await oe(F);return i.sendEvent({id:h,topic:F.method,data:a}),d.promise},l=async(F,y)=>{if(!await n.isConnected)throw new k(L.clientNotConnected,"The iframe provider isn't connected yet");let h=r.createChannel(async b=>{let o=await ne(b.data);if(o.result)y(o.result);else throw new Se("No valid result in the response")}),a=await oe(F);i.sendEvent({id:h,topic:F.method,data:a})},v=async()=>{r.destroy(),i.cleanup(),t.remove()},f=_r({config:e,messageHandler:i,lifecycleManager:n});return{config:e,waitForConnection:n.isConnected,waitForSetup:f,request:p,listenerRequest:l,destroy:v}}async function _r({config:e,messageHandler:t,lifecycleManager:r}){await r.isConnected;let n=async()=>{let p=e.metadata.css;p&&t.sendEvent({clientLifecycle:"modal-css",data:{cssLink:p}})},i=async()=>{if(typeof window>"u")return;let p=window.localStorage.getItem(ce);p&&t.sendEvent({clientLifecycle:"restore-backup",data:{backup:p}})};await Promise.all([n(),i()])}var Ut="nCtx";async function _t({url:e}){if(!e)return null;let r=new URL(e).searchParams.get(Ut);if(!r)return null;let n=await Ce(r);return n||null}async function Dt({url:e,context:t}){if(!e)return null;let r=await _t({url:e}),n=r?{...r,...t}:t,i=await Ae(n);if(!i)return;let p=new URL(e);return p.searchParams.set(Ut,i),p.toString()}async function Dr({url:e,context:t}){if(!window.location?.href||typeof window>"u"){console.error("No window found, can't update context");return}let r=await Dt({url:e,context:t});r&&window.history.replaceState(null,"",r.toString())}var Z={parse:_t,update:Dt,replaceUrl:Dr};var O={dapp:1,press:2,webshop:3,referral:30,purchase:31},Ot=Object.entries(O).reduce((e,[t,r])=>(e[t]=BigInt(1)<<BigInt(r),e),{});var j={press:{openArticle:"0xc0a24ffb",readArticle:"0xd5bd0fbe"},dapp:{proofVerifiableStorageUpdate:"0x2ab2aeef",callableVerifiableStorageUpdate:"0xa07da986"},webshop:{},referral:{referred:"0x010cc3b9",createLink:"0xb2c0f17c"},purchase:{started:"0xd87e90c3",completed:"0x8403aeb4"}};function Re(e,t){return e.listenerRequest({method:"frak_listenToWalletStatus"},t)}var Ve=256,We;function Sr(e=11){if(!We||Ve+e>256*2){We="",Ve=0;for(let t=0;t<256;t++)We+=(256+Math.random()*256|0).toString(16).substring(1)}return We.substring(Ve,Ve+++e)}Er();ye();St();Tr();gt();xe();function Fr({domain:e}){return we(U(e))}async function qe(e,{productId:t,interaction:r,validation:n}){let i=t??Fr(e.config);return await e.request({method:"frak_sendInteraction",params:[i,r,n]})}async function re(e,{steps:t,metadata:r}){return await e.request({method:"frak_displayModal",params:[t,e.config.metadata.name,r]})}async function Ar(e,t){let{metadata:r}=e.config;await e.request({method:"frak_sso",params:[t,r.name,r.css]})}function Rt(){return Sr(96)}async function Cr(e,{siwe:t,metadata:r}){let n=t?.statement??`I confirm that I want to use my Nexus wallet on: ${e.config.metadata.name}`,i={...t,statement:n,nonce:t?.nonce??Rt(),uri:t?.uri??`https://${e.config.domain}`,version:t?.version??"1",domain:e.config.domain};return(await re(e,{metadata:r,steps:{login:{},siweAuthenticate:{siwe:i}}})).siweAuthenticate}async function Pr(e,{tx:t,metadata:r}){return(await re(e,{metadata:r,steps:{login:{},sendTransaction:{tx:t}}})).sendTransaction}async function Ke(e,t){let r=new Y,n=!1;return await Re(e,i=>{t?.(i),n||(r.resolve(i),n=!0)}),r.promise}function bo({articleId:e}){let t=V([j.press.openArticle,N(e,{size:32})]);return{handlerTypeDenominator:U(O.press),interactionData:t}}function go({articleId:e}){let t=V([j.press.readArticle,N(e,{size:32})]);return{handlerTypeDenominator:U(O.press),interactionData:t}}var Rr={openArticle:bo,readArticle:go};function wo(){let e=V([j.referral.createLink,"0x"]);return{handlerTypeDenominator:U(O.referral),interactionData:e}}function Io({referrer:e}){let t=V([j.referral.referred,N(e,{size:32})]);return{handlerTypeDenominator:U(O.referral),interactionData:t}}var Je={createLink:wo,referred:Io};function vo({purchaseId:e}){let t=V([j.purchase.started,N(e,{size:32})]);return{handlerTypeDenominator:U(O.purchase),interactionData:t}}function Eo({purchaseId:e,proof:t}){let r=Ft([{type:"uint256"},{type:"bytes32[]"}],[BigInt(e),t]),n=V([j.purchase.completed,r]);return{handlerTypeDenominator:U(O.purchase),interactionData:n}}var Mr={startPurchase:vo,completedPurchase:Eo};async function Ge(e,{walletStatus:t,nexusContext:r,modalConfig:n,productId:i}){console.log("Nexus context info for referral interactions",{walletStatus:t,nexusContext:r});try{let p=To(t);if(!r?.r)return p&&await Z.replaceUrl({url:window.location?.href,context:{r:p}}),"no-referrer";if(p||(p=await So(e,{modalConfig:n,walletStatus:t})),p&&Pt(r.r,p))return"self-referral";p&&await Z.replaceUrl({url:window.location?.href,context:{r:p}});let l=Je.referred({referrer:r.r});return await qe(e,{productId:i,interaction:l}),"success"}catch(p){return Fo(p)}}function To(e){return e?.key==="connected"?e.wallet:void 0}async function So(e,{modalConfig:t,walletStatus:r}){return r?.key!=="connected"||!r.interactionSession?t?(await re(e,t))?.login?.wallet??void 0:void 0:r.wallet??void 0}function Fo(e){if(e instanceof k)switch(e.code){case L.walletNotConnected:return"no-wallet";case L.serverErrorForInteractionDelegation:return"no-session";default:return"error"}return"error"}async function Br(e,{productId:t,modalConfig:r}={}){let n=await Z.parse({url:window.location.href}),i=await Ke(e);try{return await Ge(e,{walletStatus:i,nexusContext:n,modalConfig:r,productId:t})}catch(p){return p}}return Ur(Ao);})();
/*! Bundled license information:

js-sha256/src/sha256.js:
  (**
   * [js-sha256]{@link https://github.com/emn178/js-sha256}
   *
   * @version 0.11.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2024
   * @license MIT
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
