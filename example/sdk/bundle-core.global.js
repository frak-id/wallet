"use strict";var NexusSDK=(()=>{var er=Object.create;var oe=Object.defineProperty;var tr=Object.getOwnPropertyDescriptor;var rr=Object.getOwnPropertyNames;var or=Object.getPrototypeOf,nr=Object.prototype.hasOwnProperty;var ar=(e,t,o)=>t in e?oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var et=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,o)=>(typeof require<"u"?require:t)[o]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var H=(e,t)=>()=>(e&&(t=e(e=0)),t);var tt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ir=(e,t)=>{for(var o in t)oe(e,o,{get:t[o],enumerable:!0})},rt=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of rr(t))!nr.call(e,f)&&f!==o&&oe(e,f,{get:()=>t[f],enumerable:!(n=tr(t,f))||n.enumerable});return e};var pe=(e,t,o)=>(o=e!=null?er(or(e)):{},rt(t||!e||!e.__esModule?oe(o,"default",{value:e,enumerable:!0}):o,e)),sr=e=>rt(oe({},"__esModule",{value:!0}),e);var Y=(e,t,o)=>ar(e,typeof t!="symbol"?t+"":t,o);var ke=tt((ne,Be)=>{"use strict";(function(e,t){if(typeof ne=="object"&&typeof Be=="object")Be.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var o=t();for(var n in o)(typeof ne=="object"?ne:e)[n]=o[n]}})(ne,()=>(()=>{"use strict";var e={48:function(o,n,f){var b=this&&this.__awaiter||function(a,h,r,s){return new(r||(r=Promise))(function(g,A){function l(i){try{B(s.next(i))}catch(c){A(c)}}function E(i){try{B(s.throw(i))}catch(c){A(c)}}function B(i){var c;i.done?g(i.value):(c=i.value,c instanceof r?c:new r(function(S){S(c)})).then(l,E)}B((s=s.apply(a,h||[])).next())})},I=this&&this.__generator||function(a,h){var r,s,g,A,l={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return A={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function E(B){return function(i){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;A&&(A=0,c[0]&&(l=0)),l;)try{if(r=1,s&&(g=2&c[0]?s.return:c[0]?s.throw||((g=s.return)&&g.call(s),0):s.next)&&!(g=g.call(s,c[1])).done)return g;switch(s=0,g&&(c=[2&c[0],g.value]),c[0]){case 0:case 1:g=c;break;case 4:return l.label++,{value:c[1],done:!1};case 5:l.label++,s=c[1],c=[0];continue;case 7:c=l.ops.pop(),l.trys.pop();continue;default:if(!((g=(g=l.trys).length>0&&g[g.length-1])||c[0]!==6&&c[0]!==2)){l=0;continue}if(c[0]===3&&(!g||c[1]>g[0]&&c[1]<g[3])){l.label=c[1];break}if(c[0]===6&&l.label<g[1]){l.label=g[1],g=c;break}if(g&&l.label<g[2]){l.label=g[2],l.ops.push(c);break}g[2]&&l.ops.pop(),l.trys.pop();continue}c=h.call(a,l)}catch(S){c=[6,S],s=0}finally{r=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([B,i])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.decompressFromUTF16=n.compressToUTF16=n.decompressFromBase64=n.compressToBase64=void 0;var v=f(304),p=f(134),T=new v.CompressorImpl,x=new p.DecompressorImpl,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d={};n.compressToBase64=function(a){return b(this,void 0,void 0,function(){var h;return I(this,function(r){switch(r.label){case 0:return a===null?[2,""]:[4,T.compress(a,6,function(s){return u.charAt(s)})];case 1:switch((h=r.sent()).length%4){default:case 0:return[2,h];case 1:return[2,h+"==="];case 2:return[2,h+"=="];case 3:return[2,h+"="]}return[2]}})})},n.decompressFromBase64=function(a){return b(this,void 0,void 0,function(){return I(this,function(h){switch(h.label){case 0:return a===null?[2,""]:a===""?[2,null]:[4,x.decompress(a.length,32,function(r){return function(s,g){if(!d[s]){d[s]={};for(var A=0;A<s.length;A++)d[s][s.charAt(A)]=A}return d[s][g]}(u,a.charAt(r))})];case 1:return[2,h.sent()]}})})},n.compressToUTF16=function(a){return b(this,void 0,void 0,function(){return I(this,function(h){switch(h.label){case 0:return a===null?[2,""]:[4,T.compress(a,15,function(r){return String.fromCharCode(r+32)})];case 1:return[2,h.sent()+" "]}})})},n.decompressFromUTF16=function(a){return b(this,void 0,void 0,function(){return I(this,function(h){switch(h.label){case 0:return a===null?[2,""]:a===""?[2,null]:[4,x.decompress(a.length,16384,function(r){return a.charCodeAt(r)-32})];case 1:return[2,h.sent()]}})})}},304:function(o,n,f){var b=this&&this.__awaiter||function(x,u,d,a){return new(d||(d=Promise))(function(h,r){function s(l){try{A(a.next(l))}catch(E){r(E)}}function g(l){try{A(a.throw(l))}catch(E){r(E)}}function A(l){var E;l.done?h(l.value):(E=l.value,E instanceof d?E:new d(function(B){B(E)})).then(s,g)}A((a=a.apply(x,u||[])).next())})},I=this&&this.__generator||function(x,u){var d,a,h,r,s={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return r={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function g(A){return function(l){return function(E){if(d)throw new TypeError("Generator is already executing.");for(;r&&(r=0,E[0]&&(s=0)),s;)try{if(d=1,a&&(h=2&E[0]?a.return:E[0]?a.throw||((h=a.return)&&h.call(a),0):a.next)&&!(h=h.call(a,E[1])).done)return h;switch(a=0,h&&(E=[2&E[0],h.value]),E[0]){case 0:case 1:h=E;break;case 4:return s.label++,{value:E[1],done:!1};case 5:s.label++,a=E[1],E=[0];continue;case 7:E=s.ops.pop(),s.trys.pop();continue;default:if(!((h=(h=s.trys).length>0&&h[h.length-1])||E[0]!==6&&E[0]!==2)){s=0;continue}if(E[0]===3&&(!h||E[1]>h[0]&&E[1]<h[3])){s.label=E[1];break}if(E[0]===6&&s.label<h[1]){s.label=h[1],h=E;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(E);break}h[2]&&s.ops.pop(),s.trys.pop();continue}E=u.call(x,s)}catch(B){E=[6,B],a=0}finally{d=h=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([A,l])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompressorImpl=void 0;var v=f(658),p=[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15],T=function(){function x(){}return x.writeValueToData=function(u,d,a,h,r){if(a%4!=0||u.dataPosition+a>h-1)for(var s=0;s<a;s++)u.dataVal=u.dataVal<<1|1&d,u.dataPosition==h-1?(u.dataPosition=0,u.data.push(r(u.dataVal)),u.dataVal=0):u.dataPosition++,d>>=1;else u.dataVal<<=a,u.dataVal|=function(g,A){for(var l=0,E=0;E<A;++E)l<<=4,l|=p[15&g],g>>=4;return l}(d,a/4),u.dataPosition+=a},x.writeWToDataVal=function(u,d,a){u.dictionaryToCreate.has(u.w)?(u.w.charCodeAt(0)<256?(x.writeValueToData(u,0,u.numBits,d,a),x.writeValueToData(u,u.w.charCodeAt(0),8,d,a)):(x.writeValueToData(u,1,u.numBits,d,a),x.writeValueToData(u,u.w.charCodeAt(0),16,d,a)),u.enlargeIn--,u.enlargeIn==0&&(u.enlargeIn=Math.pow(2,u.numBits),u.numBits++),u.dictionaryToCreate.delete(u.w)):x.writeValueToData(u,u.dictionary.get(u.w),u.numBits,d,a),u.enlargeIn--,u.enlargeIn==0&&(u.enlargeIn=Math.pow(2,u.numBits),u.numBits++)},x.loopIteration=function(u,d,a,h,r){var s=u.charAt(d);r.dictionary.has(s)||(r.dictionary.set(s,r.dictSize++),r.dictionaryToCreate.set(s,!0));var g=r.w+s;r.dictionary.has(g)?r.w=g:(this.writeWToDataVal(r,a,h),r.dictionary.set(g,r.dictSize++),r.w=String(s))},x.prototype.compress=function(u,d,a){var h=this;return new Promise(function(r){return b(h,void 0,void 0,function(){var s,g;return I(this,function(A){switch(A.label){case 0:if(u==null)return r(""),[2];s={data:[],dataPosition:0,dataVal:0,dictionary:new Map,dictionaryToCreate:new Map,dictSize:3,enlargeIn:2,numBits:2,w:""},g=0,A.label=1;case 1:return g<u.length?(x.loopIteration(u,g,d,a,s),g%1e4!=0?[3,3]:[4,(0,v.wait)()]):[3,4];case 2:A.sent(),A.label=3;case 3:return g+=1,[3,1];case 4:return s.w!==""&&x.writeWToDataVal(s,d,a),x.writeValueToData(s,2,s.numBits,d,a),s.dataVal<<=d-s.dataPosition,s.data.push(a(s.dataVal)),r(s.data.join("")),[2]}})})})},x}();n.CompressorImpl=T},134:function(o,n,f){var b=this&&this.__awaiter||function(T,x,u,d){return new(u||(u=Promise))(function(a,h){function r(A){try{g(d.next(A))}catch(l){h(l)}}function s(A){try{g(d.throw(A))}catch(l){h(l)}}function g(A){var l;A.done?a(A.value):(l=A.value,l instanceof u?l:new u(function(E){E(l)})).then(r,s)}g((d=d.apply(T,x||[])).next())})},I=this&&this.__generator||function(T,x){var u,d,a,h,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return h={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function s(g){return function(A){return function(l){if(u)throw new TypeError("Generator is already executing.");for(;h&&(h=0,l[0]&&(r=0)),r;)try{if(u=1,d&&(a=2&l[0]?d.return:l[0]?d.throw||((a=d.return)&&a.call(d),0):d.next)&&!(a=a.call(d,l[1])).done)return a;switch(d=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,d=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!((a=(a=r.trys).length>0&&a[a.length-1])||l[0]!==6&&l[0]!==2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=x.call(T,r)}catch(E){l=[6,E],d=0}finally{u=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([g,A])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.DecompressorImpl=void 0;var v=f(658),p=function(){function T(){}return T.prototype.decompress=function(x,u,d){var a=this;return new Promise(function(h){return b(a,void 0,void 0,function(){var r,s,g;return I(this,function(A){switch(A.label){case 0:for(r={bits:0,c:null,dataIndex:1,dataPosition:u,dataVal:d(0),dictionary:new Map,dictSize:4,enlargeIn:4,entry:"",maxPower:Math.pow(2,2),numBits:3,power:1,resb:null,result:[],w:null},s=0;s<3;s+=1)r.dictionary.set(s,s);for(;r.power!=r.maxPower;)r.resb=r.dataVal&r.dataPosition,r.dataPosition>>=1,r.dataPosition==0&&(r.dataPosition=u,r.dataVal=d(r.dataIndex++)),r.bits|=(r.resb>0?1:0)*r.power,r.power<<=1;switch(r.bits){case 0:for(r.bits=0,r.maxPower=Math.pow(2,8),r.power=1;r.power!=r.maxPower;)r.resb=r.dataVal&r.dataPosition,r.dataPosition>>=1,r.dataPosition==0&&(r.dataPosition=u,r.dataVal=d(r.dataIndex++)),r.bits|=(r.resb>0?1:0)*r.power,r.power<<=1;r.c=String.fromCharCode(r.bits);break;case 1:for(r.bits=0,r.maxPower=Math.pow(2,16),r.power=1;r.power!==r.maxPower;)r.resb=r.dataVal&r.dataPosition,r.dataPosition>>=1,r.dataPosition===0&&(r.dataPosition=u,r.dataVal=d(r.dataIndex++)),r.bits|=(r.resb>0?1:0)*r.power,r.power<<=1;r.c=String.fromCharCode(r.bits);break;case 2:return h(""),[2]}r.dictionary[3]=r.c,r.w=r.c,r.result.push(r.c),g=1,A.label=1;case 1:return g%2e4!=0?[3,3]:[4,(0,v.wait)()];case 2:A.sent(),A.label=3;case 3:if(r.dataIndex>x)return h(""),[2];for(r.bits=0,r.maxPower=Math.pow(2,r.numBits),r.power=1;r.power!=r.maxPower;)r.resb=r.dataVal&r.dataPosition,r.dataPosition>>=1,r.dataPosition==0&&(r.dataPosition=u,r.dataVal=d(r.dataIndex++)),r.bits|=(r.resb>0?1:0)*r.power,r.power<<=1;switch(r.c=r.bits){case 0:for(r.bits=0,r.maxPower=Math.pow(2,8),r.power=1;r.power!==r.maxPower;)r.resb=r.dataVal&r.dataPosition,r.dataPosition>>=1,r.dataPosition==0&&(r.dataPosition=u,r.dataVal=d(r.dataIndex++)),r.bits|=(r.resb>0?1:0)*r.power,r.power<<=1;r.dictionary[r.dictSize++]=String.fromCharCode(r.bits),r.c=r.dictSize-1,r.enlargeIn--;break;case 1:for(r.bits=0,r.maxPower=Math.pow(2,16),r.power=1;r.power!==r.maxPower;)r.resb=r.dataVal&r.dataPosition,r.dataPosition>>=1,r.dataPosition==0&&(r.dataPosition=u,r.dataVal=d(r.dataIndex++)),r.bits|=(r.resb>0?1:0)*r.power,r.power<<=1;r.dictionary[r.dictSize++]=String.fromCharCode(r.bits),r.c=r.dictSize-1,r.enlargeIn--;break;case 2:return h(r.result.join("")),[2]}if(r.enlargeIn==0&&(r.enlargeIn=Math.pow(2,r.numBits),r.numBits++),r.dictionary[r.c])r.entry=r.dictionary[r.c];else{if(r.c!==r.dictSize)return h(null),[2];r.entry=r.w+r.w.charAt(0)}return r.result.push(r.entry),r.dictionary[r.dictSize++]=r.w+r.entry.charAt(0),r.enlargeIn--,r.w=r.entry,r.enlargeIn==0&&(r.enlargeIn=Math.pow(2,r.numBits),r.numBits++),g++,[3,1];case 4:return[2]}})})})},T}();n.DecompressorImpl=p},658:function(o,n){var f=this&&this.__awaiter||function(I,v,p,T){return new(p||(p=Promise))(function(x,u){function d(r){try{h(T.next(r))}catch(s){u(s)}}function a(r){try{h(T.throw(r))}catch(s){u(s)}}function h(r){var s;r.done?x(r.value):(s=r.value,s instanceof p?s:new p(function(g){g(s)})).then(d,a)}h((T=T.apply(I,v||[])).next())})},b=this&&this.__generator||function(I,v){var p,T,x,u,d={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function a(h){return function(r){return function(s){if(p)throw new TypeError("Generator is already executing.");for(;u&&(u=0,s[0]&&(d=0)),d;)try{if(p=1,T&&(x=2&s[0]?T.return:s[0]?T.throw||((x=T.return)&&x.call(T),0):T.next)&&!(x=x.call(T,s[1])).done)return x;switch(T=0,x&&(s=[2&s[0],x.value]),s[0]){case 0:case 1:x=s;break;case 4:return d.label++,{value:s[1],done:!1};case 5:d.label++,T=s[1],s=[0];continue;case 7:s=d.ops.pop(),d.trys.pop();continue;default:if(!((x=(x=d.trys).length>0&&x[x.length-1])||s[0]!==6&&s[0]!==2)){d=0;continue}if(s[0]===3&&(!x||s[1]>x[0]&&s[1]<x[3])){d.label=s[1];break}if(s[0]===6&&d.label<x[1]){d.label=x[1],x=s;break}if(x&&d.label<x[2]){d.label=x[2],d.ops.push(s);break}x[2]&&d.ops.pop(),d.trys.pop();continue}s=v.call(I,d)}catch(g){s=[6,g],T=0}finally{p=x=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([h,r])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.wait=void 0,n.wait=function(){return f(this,void 0,void 0,function(){return b(this,function(I){return[2,new Promise(function(v){setTimeout(v,0)})]})})}}},t={};return function o(n){var f=t[n];if(f!==void 0)return f.exports;var b=t[n]={exports:{}};return e[n].call(b.exports,b,b.exports,o),b.exports}(48)})())});var He=tt((Nr,ue)=>{"use strict";(function(){"use strict";var e="input is invalid type",t=typeof window=="object",o=t?window:{};o.JS_SHA256_NO_WINDOW&&(t=!1);var n=!t&&typeof self=="object",f=!o.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;f?o=global:n&&(o=self);var b=!o.JS_SHA256_NO_COMMON_JS&&typeof ue=="object"&&ue.exports,I=typeof define=="function"&&define.amd,v=!o.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),T=[-2147483648,8388608,32768,128],x=[24,16,8,0],u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=["hex","array","digest","arrayBuffer"],a=[];(o.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(i){return Object.prototype.toString.call(i)==="[object Array]"}),v&&(o.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(i){return typeof i=="object"&&i.buffer&&i.buffer.constructor===ArrayBuffer});var h=function(i,c){return function(S){return new l(c,!0).update(S)[i]()}},r=function(i){var c=h("hex",i);f&&(c=s(c,i)),c.create=function(){return new l(i)},c.update=function(F){return c.create().update(F)};for(var S=0;S<d.length;++S){var w=d[S];c[w]=h(w,i)}return c},s=function(i,c){var S=et("crypto"),w=et("buffer").Buffer,F=c?"sha224":"sha256",y;w.from&&!o.JS_SHA256_NO_BUFFER_FROM?y=w.from:y=function(m){return new w(m)};var C=function(m){if(typeof m=="string")return S.createHash(F).update(m,"utf8").digest("hex");if(m==null)throw new Error(e);return m.constructor===ArrayBuffer&&(m=new Uint8Array(m)),Array.isArray(m)||ArrayBuffer.isView(m)||m.constructor===w?S.createHash(F).update(y(m)).digest("hex"):i(m)};return C},g=function(i,c){return function(S,w){return new E(S,c,!0).update(w)[i]()}},A=function(i){var c=g("hex",i);c.create=function(F){return new E(F,i)},c.update=function(F,y){return c.create(F).update(y)};for(var S=0;S<d.length;++S){var w=d[S];c[w]=g(w,i)}return c};function l(i,c){c?(a[0]=a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0,this.blocks=a):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=i}l.prototype.update=function(i){if(!this.finalized){var c,S=typeof i;if(S!=="string"){if(S==="object"){if(i===null)throw new Error(e);if(v&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!Array.isArray(i)&&(!v||!ArrayBuffer.isView(i)))throw new Error(e)}else throw new Error(e);c=!0}for(var w,F=0,y,C=i.length,m=this.blocks;F<C;){if(this.hashed&&(this.hashed=!1,m[0]=this.block,this.block=m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),c)for(y=this.start;F<C&&y<64;++F)m[y>>>2]|=i[F]<<x[y++&3];else for(y=this.start;F<C&&y<64;++F)w=i.charCodeAt(F),w<128?m[y>>>2]|=w<<x[y++&3]:w<2048?(m[y>>>2]|=(192|w>>>6)<<x[y++&3],m[y>>>2]|=(128|w&63)<<x[y++&3]):w<55296||w>=57344?(m[y>>>2]|=(224|w>>>12)<<x[y++&3],m[y>>>2]|=(128|w>>>6&63)<<x[y++&3],m[y>>>2]|=(128|w&63)<<x[y++&3]):(w=65536+((w&1023)<<10|i.charCodeAt(++F)&1023),m[y>>>2]|=(240|w>>>18)<<x[y++&3],m[y>>>2]|=(128|w>>>12&63)<<x[y++&3],m[y>>>2]|=(128|w>>>6&63)<<x[y++&3],m[y>>>2]|=(128|w&63)<<x[y++&3]);this.lastByteIndex=y,this.bytes+=y-this.start,y>=64?(this.block=m[16],this.start=y-64,this.hash(),this.hashed=!0):this.start=y}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},l.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var i=this.blocks,c=this.lastByteIndex;i[16]=this.block,i[c>>>2]|=T[c&3],this.block=i[16],c>=56&&(this.hashed||this.hash(),i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),i[14]=this.hBytes<<3|this.bytes>>>29,i[15]=this.bytes<<3,this.hash()}},l.prototype.hash=function(){var i=this.h0,c=this.h1,S=this.h2,w=this.h3,F=this.h4,y=this.h5,C=this.h6,m=this.h7,R=this.blocks,M,U,z,$,P,j,W,re,Pe,Me,ce;for(M=16;M<64;++M)P=R[M-15],U=(P>>>7|P<<25)^(P>>>18|P<<14)^P>>>3,P=R[M-2],z=(P>>>17|P<<15)^(P>>>19|P<<13)^P>>>10,R[M]=R[M-16]+U+R[M-7]+z<<0;for(ce=c&S,M=0;M<64;M+=4)this.first?(this.is224?(re=300032,P=R[0]-1413257819,m=P-150054599<<0,w=P+24177077<<0):(re=704751109,P=R[0]-210244248,m=P-1521486534<<0,w=P+143694565<<0),this.first=!1):(U=(i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10),z=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),re=i&c,$=re^i&S^ce,W=F&y^~F&C,P=m+z+W+u[M]+R[M],j=U+$,m=w+P<<0,w=P+j<<0),U=(w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),z=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),Pe=w&i,$=Pe^w&c^re,W=m&F^~m&y,P=C+z+W+u[M+1]+R[M+1],j=U+$,C=S+P<<0,S=P+j<<0,U=(S>>>2|S<<30)^(S>>>13|S<<19)^(S>>>22|S<<10),z=(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7),Me=S&w,$=Me^S&i^Pe,W=C&m^~C&F,P=y+z+W+u[M+2]+R[M+2],j=U+$,y=c+P<<0,c=P+j<<0,U=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),z=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),ce=c&S,$=ce^c&w^Me,W=y&C^~y&m,P=F+z+W+u[M+3]+R[M+3],j=U+$,F=i+P<<0,i=P+j<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+i<<0,this.h1=this.h1+c<<0,this.h2=this.h2+S<<0,this.h3=this.h3+w<<0,this.h4=this.h4+F<<0,this.h5=this.h5+y<<0,this.h6=this.h6+C<<0,this.h7=this.h7+m<<0},l.prototype.hex=function(){this.finalize();var i=this.h0,c=this.h1,S=this.h2,w=this.h3,F=this.h4,y=this.h5,C=this.h6,m=this.h7,R=p[i>>>28&15]+p[i>>>24&15]+p[i>>>20&15]+p[i>>>16&15]+p[i>>>12&15]+p[i>>>8&15]+p[i>>>4&15]+p[i&15]+p[c>>>28&15]+p[c>>>24&15]+p[c>>>20&15]+p[c>>>16&15]+p[c>>>12&15]+p[c>>>8&15]+p[c>>>4&15]+p[c&15]+p[S>>>28&15]+p[S>>>24&15]+p[S>>>20&15]+p[S>>>16&15]+p[S>>>12&15]+p[S>>>8&15]+p[S>>>4&15]+p[S&15]+p[w>>>28&15]+p[w>>>24&15]+p[w>>>20&15]+p[w>>>16&15]+p[w>>>12&15]+p[w>>>8&15]+p[w>>>4&15]+p[w&15]+p[F>>>28&15]+p[F>>>24&15]+p[F>>>20&15]+p[F>>>16&15]+p[F>>>12&15]+p[F>>>8&15]+p[F>>>4&15]+p[F&15]+p[y>>>28&15]+p[y>>>24&15]+p[y>>>20&15]+p[y>>>16&15]+p[y>>>12&15]+p[y>>>8&15]+p[y>>>4&15]+p[y&15]+p[C>>>28&15]+p[C>>>24&15]+p[C>>>20&15]+p[C>>>16&15]+p[C>>>12&15]+p[C>>>8&15]+p[C>>>4&15]+p[C&15];return this.is224||(R+=p[m>>>28&15]+p[m>>>24&15]+p[m>>>20&15]+p[m>>>16&15]+p[m>>>12&15]+p[m>>>8&15]+p[m>>>4&15]+p[m&15]),R},l.prototype.toString=l.prototype.hex,l.prototype.digest=function(){this.finalize();var i=this.h0,c=this.h1,S=this.h2,w=this.h3,F=this.h4,y=this.h5,C=this.h6,m=this.h7,R=[i>>>24&255,i>>>16&255,i>>>8&255,i&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255,S>>>24&255,S>>>16&255,S>>>8&255,S&255,w>>>24&255,w>>>16&255,w>>>8&255,w&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255,y>>>24&255,y>>>16&255,y>>>8&255,y&255,C>>>24&255,C>>>16&255,C>>>8&255,C&255];return this.is224||R.push(m>>>24&255,m>>>16&255,m>>>8&255,m&255),R},l.prototype.array=l.prototype.digest,l.prototype.arrayBuffer=function(){this.finalize();var i=new ArrayBuffer(this.is224?28:32),c=new DataView(i);return c.setUint32(0,this.h0),c.setUint32(4,this.h1),c.setUint32(8,this.h2),c.setUint32(12,this.h3),c.setUint32(16,this.h4),c.setUint32(20,this.h5),c.setUint32(24,this.h6),this.is224||c.setUint32(28,this.h7),i};function E(i,c,S){var w,F=typeof i;if(F==="string"){var y=[],C=i.length,m=0,R;for(w=0;w<C;++w)R=i.charCodeAt(w),R<128?y[m++]=R:R<2048?(y[m++]=192|R>>>6,y[m++]=128|R&63):R<55296||R>=57344?(y[m++]=224|R>>>12,y[m++]=128|R>>>6&63,y[m++]=128|R&63):(R=65536+((R&1023)<<10|i.charCodeAt(++w)&1023),y[m++]=240|R>>>18,y[m++]=128|R>>>12&63,y[m++]=128|R>>>6&63,y[m++]=128|R&63);i=y}else if(F==="object"){if(i===null)throw new Error(e);if(v&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!Array.isArray(i)&&(!v||!ArrayBuffer.isView(i)))throw new Error(e)}else throw new Error(e);i.length>64&&(i=new l(c,!0).update(i).array());var M=[],U=[];for(w=0;w<64;++w){var z=i[w]||0;M[w]=92^z,U[w]=54^z}l.call(this,c,S),this.update(U),this.oKeyPad=M,this.inner=!0,this.sharedMemory=S}E.prototype=new l,E.prototype.finalize=function(){if(l.prototype.finalize.call(this),this.inner){this.inner=!1;var i=this.array();l.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(i),l.prototype.finalize.call(this)}};var B=r();B.sha256=B,B.sha224=r(!0),B.sha256.hmac=A(),B.sha224.hmac=A(!0),b?ue.exports=B:(o.sha256=B.sha256,o.sha224=B.sha224,I&&define(function(){return B}))})()});function ee(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}var xe=H(()=>{"use strict"});function Oe(e){return ee(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}var lt=H(()=>{"use strict";xe()});var Ve,dt=H(()=>{"use strict";Ve="2.21.6"});function mt(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e?mt(e.cause,t):t?null:e}var $e,O,he=H(()=>{"use strict";dt();$e={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:o})=>t?`${e??"https://viem.sh"}${t}${o?`#${o}`:""}`:void 0,version:Ve},O=class e extends Error{constructor(t,o={}){let n=o.cause instanceof e?o.cause.details:o.cause?.message?o.cause.message:o.details,f=o.cause instanceof e&&o.cause.docsPath||o.docsPath,b=$e.getDocsUrl?.({...o,docsPath:f}),I=[t||"An error occurred.","",...o.metaMessages?[...o.metaMessages,""]:[],...b?[`Docs: ${b}`]:[],...n?[`Details: ${n}`]:[],...$e.version?[`Version: ${$e.version}`]:[]].join(`
`);super(I,o.cause?{cause:o.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=f,this.metaMessages=o.metaMessages,this.name=o.name??this.name,this.shortMessage=t,this.version=Ve}walk(t){return mt(this,t)}}});var ae,xt=H(()=>{"use strict";he();ae=class extends O{constructor({size:t,targetSize:o,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${o}).`,{name:"SizeExceedsPaddingSizeError"})}}});function L(e,{dir:t,size:o=32}={}){return typeof e=="string"?ht(e,{dir:t,size:o}):yt(e,{dir:t,size:o})}function ht(e,{dir:t,size:o=32}={}){if(o===null)return e;let n=e.replace("0x","");if(n.length>o*2)throw new ae({size:Math.ceil(n.length/2),targetSize:o,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](o*2,"0")}`}function yt(e,{dir:t,size:o=32}={}){if(o===null)return e;if(e.length>o)throw new ae({size:e.length,targetSize:o,type:"bytes"});let n=new Uint8Array(o);for(let f=0;f<o;f++){let b=t==="right";n[b?f:o-f-1]=e[b?f:e.length-f-1]}return n}var ye=H(()=>{"use strict";xt()});var be,we,je=H(()=>{"use strict";he();be=class extends O{constructor({max:t,min:o,signed:n,size:f,value:b}){super(`Number "${b}" is not in safe ${f?`${f*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${o} to ${t})`:`(above ${o})`}`,{name:"IntegerOutOfRangeError"})}},we=class extends O{constructor({givenSize:t,maxSize:o}){super(`Size cannot exceed ${o} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}});function G(e,{size:t}){if(Oe(e)>t)throw new we({givenSize:Oe(e),maxSize:t})}var We=H(()=>{"use strict";je();lt()});function N(e,t={}){return typeof e=="number"||typeof e=="bigint"?ge(e,t):typeof e=="string"?wt(e,t):typeof e=="boolean"?bt(e,t):qe(e,t)}function bt(e,t={}){let o=`0x${Number(e)}`;return typeof t.size=="number"?(G(o,{size:t.size}),L(o,{size:t.size})):o}function qe(e,t={}){let o="";for(let f=0;f<e.length;f++)o+=fr[e[f]];let n=`0x${o}`;return typeof t.size=="number"?(G(n,{size:t.size}),L(n,{dir:"right",size:t.size})):n}function ge(e,t={}){let{signed:o,size:n}=t,f=BigInt(e),b;n?o?b=(1n<<BigInt(n)*8n-1n)-1n:b=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(b=BigInt(Number.MAX_SAFE_INTEGER));let I=typeof b=="bigint"&&o?-b-1n:0;if(b&&f>b||f<I){let p=typeof e=="bigint"?"n":"";throw new be({max:b?`${b}${p}`:void 0,min:`${I}${p}`,signed:o,size:n,value:`${e}${p}`})}let v=`0x${(o&&f<0?(1n<<BigInt(n*8))+BigInt(f):f).toString(16)}`;return n?L(v,{size:n}):v}function wt(e,t={}){let o=ur.encode(e);return qe(o,t)}var fr,ur,Ie=H(()=>{"use strict";je();ye();We();fr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));ur=new TextEncoder});function It(e,t={}){return typeof e=="number"||typeof e=="bigint"?mr(e,t):typeof e=="boolean"?dr(e,t):ee(e)?Et(e,t):xr(e,t)}function dr(e,t={}){let o=new Uint8Array(1);return o[0]=Number(e),typeof t.size=="number"?(G(o,{size:t.size}),L(o,{size:t.size})):o}function gt(e){if(e>=V.zero&&e<=V.nine)return e-V.zero;if(e>=V.A&&e<=V.F)return e-(V.A-10);if(e>=V.a&&e<=V.f)return e-(V.a-10)}function Et(e,t={}){let o=e;t.size&&(G(o,{size:t.size}),o=L(o,{dir:"right",size:t.size}));let n=o.slice(2);n.length%2&&(n=`0${n}`);let f=n.length/2,b=new Uint8Array(f);for(let I=0,v=0;I<f;I++){let p=gt(n.charCodeAt(v++)),T=gt(n.charCodeAt(v++));if(p===void 0||T===void 0)throw new O(`Invalid byte sequence ("${n[v-2]}${n[v-1]}" in "${n}").`);b[I]=p*16+T}return b}function mr(e,t){let o=ge(e,t);return Et(o)}function xr(e,t={}){let o=lr.encode(e);return typeof t.size=="number"?(G(o,{size:t.size}),L(o,{dir:"right",size:t.size})):o}var lr,V,St=H(()=>{"use strict";he();xe();ye();We();Ie();lr=new TextEncoder;V={zero:48,nine:57,A:65,F:70,a:97,f:102}});function Ke(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function hr(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ie(e,...t){if(!hr(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function Je(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function vt(e,t){ie(e);let o=t.outputLen;if(e.length<o)throw new Error(`digestInto() expects output buffer of length at least ${o}`)}var Ge=H(()=>{"use strict"});function yr(e,t=!1){return t?{h:Number(e&Ee),l:Number(e>>Ft&Ee)}:{h:Number(e>>Ft&Ee)|0,l:Number(e&Ee)|0}}function Tt(e,t=!1){let o=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let f=0;f<e.length;f++){let{h:b,l:I}=yr(e[f],t);[o[f],n[f]]=[b,I]}return[o,n]}var Ee,Ft,At,Ct,Rt,Pt,Mt=H(()=>{"use strict";Ee=BigInt(4294967295),Ft=BigInt(32);At=(e,t,o)=>e<<o|t>>>32-o,Ct=(e,t,o)=>t<<o|e>>>32-o,Rt=(e,t,o)=>t<<o-32|e>>>64-o,Pt=(e,t,o)=>e<<o-32|t>>>64-o});function Ye(e){for(let t=0;t<e.length;t++)e[t]=br(e[t])}function wr(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ve(e){return typeof e=="string"&&(e=wr(e)),ie(e),e}function kt(e){let t=n=>e().update(ve(n)).digest(),o=e();return t.outputLen=o.outputLen,t.blockLen=o.blockLen,t.create=()=>e(),t}function Ht(e){let t=(n,f)=>e(f).update(ve(n)).digest(),o=e({});return t.outputLen=o.outputLen,t.blockLen=o.blockLen,t.create=n=>e(n),t}var Bt,Xe,br,Se,on,_t=H(()=>{"use strict";Ge();Bt=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Xe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,br=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;Se=class{clone(){return this._cloneInto()}},on={}.toString});function Ar(e,t=24){let o=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let I=0;I<10;I++)o[I]=e[I]^e[I+10]^e[I+20]^e[I+30]^e[I+40];for(let I=0;I<10;I+=2){let v=(I+8)%10,p=(I+2)%10,T=o[p],x=o[p+1],u=Lt(T,x,1)^o[v],d=Ut(T,x,1)^o[v+1];for(let a=0;a<50;a+=10)e[I+a]^=u,e[I+a+1]^=d}let f=e[2],b=e[3];for(let I=0;I<24;I++){let v=Nt[I],p=Lt(f,b,v),T=Ut(f,b,v),x=zt[I];f=e[x],b=e[x+1],e[x]=p,e[x+1]=T}for(let I=0;I<50;I+=10){for(let v=0;v<10;v++)o[v]=e[I+v];for(let v=0;v<10;v++)e[I+v]^=~o[(v+2)%10]&o[(v+4)%10]}e[0]^=Fr[n],e[1]^=Tr[n]}o.fill(0)}var zt,Nt,Dt,gr,se,Ir,Er,Sr,vr,Fr,Tr,Lt,Ut,Fe,q,pn,fn,un,ln,dn,Ot,mn,xn,Vt,hn,yn,$t=H(()=>{"use strict";Ge();Mt();_t();zt=[],Nt=[],Dt=[],gr=BigInt(0),se=BigInt(1),Ir=BigInt(2),Er=BigInt(7),Sr=BigInt(256),vr=BigInt(113);for(let e=0,t=se,o=1,n=0;e<24;e++){[o,n]=[n,(2*o+3*n)%5],zt.push(2*(5*n+o)),Nt.push((e+1)*(e+2)/2%64);let f=gr;for(let b=0;b<7;b++)t=(t<<se^(t>>Er)*vr)%Sr,t&Ir&&(f^=se<<(se<<BigInt(b))-se);Dt.push(f)}[Fr,Tr]=Tt(Dt,!0),Lt=(e,t,o)=>o>32?Rt(e,t,o):At(e,t,o),Ut=(e,t,o)=>o>32?Pt(e,t,o):Ct(e,t,o);Fe=class e extends Se{constructor(t,o,n,f=!1,b=24){if(super(),this.blockLen=t,this.suffix=o,this.outputLen=n,this.enableXOF=f,this.rounds=b,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ke(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Bt(this.state)}keccak(){Xe||Ye(this.state32),Ar(this.state32,this.rounds),Xe||Ye(this.state32),this.posOut=0,this.pos=0}update(t){Je(this);let{blockLen:o,state:n}=this;t=ve(t);let f=t.length;for(let b=0;b<f;){let I=Math.min(o-this.pos,f-b);for(let v=0;v<I;v++)n[this.pos++]^=t[b++];this.pos===o&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:o,pos:n,blockLen:f}=this;t[n]^=o,o&128&&n===f-1&&this.keccak(),t[f-1]^=128,this.keccak()}writeInto(t){Je(this,!1),ie(t),this.finish();let o=this.state,{blockLen:n}=this;for(let f=0,b=t.length;f<b;){this.posOut>=n&&this.keccak();let I=Math.min(n-this.posOut,b-f);t.set(o.subarray(this.posOut,this.posOut+I),f),this.posOut+=I,f+=I}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ke(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(vt(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:o,suffix:n,outputLen:f,rounds:b,enableXOF:I}=this;return t||(t=new e(o,n,f,I,b)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=b,t.suffix=n,t.outputLen=f,t.enableXOF=I,t.destroyed=this.destroyed,t}},q=(e,t,o)=>kt(()=>new Fe(t,e,o)),pn=q(6,144,224/8),fn=q(6,136,256/8),un=q(6,104,384/8),ln=q(6,72,512/8),dn=q(1,144,224/8),Ot=q(1,136,256/8),mn=q(1,104,384/8),xn=q(1,72,512/8),Vt=(e,t,o)=>Ht((n={})=>new Fe(t,e,n.dkLen===void 0?o:n.dkLen,!0)),hn=Vt(31,168,128/8),yn=Vt(31,136,256/8)});function Ze(e,t){let o=t||"hex",n=Ot(ee(e,{strict:!1})?It(e):e);return o==="bytes"?n:N(n)}var jt=H(()=>{"use strict";$t();xe();St();Ie()});function X(e){return`0x${e.reduce((t,o)=>t+o.replace("0x",""),"")}`}var Wt=H(()=>{"use strict"});var Br={};ir(Br,{FrakRpcError:()=>k,NexusContextManager:()=>De,PressActionsSelector:()=>Ce,PressInteractionEncoder:()=>Zt,ReferralActionsSelector:()=>Re,ReferralInteractionEncoder:()=>Qt,RpcErrorCodes:()=>_,createIFrameNexusClient:()=>Ne,createIframe:()=>Ue,decompressDataAndCheckHash:()=>J,displayModal:()=>te,hashAndCompressData:()=>K,openSso:()=>Gt,productTypes:()=>D,productTypesMask:()=>ft,sendInteraction:()=>Jt,sendTransaction:()=>Yt,siweAuthenticate:()=>Xt,watchWalletStatus:()=>ut});var k=class extends Error{constructor(o,n,f){super(n);this.code=o;this.data=f}};var fe=class extends k{constructor(t){super(_.internalError,t)}};var _={parseError:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internalError:-32603,serverError:-32e3,clientNotConnected:-32001,configError:-32002,corruptedResponse:-32003,clientAborted:-32004,walletNotConnected:-32005,noInteractionSession:-32006};var Z=class{constructor(){Y(this,"_promise");Y(this,"_resolve");Y(this,"_reject");Y(this,"resolve",t=>{this._resolve?.(t)});Y(this,"reject",t=>{this._reject?.(t)});this._promise=new Promise((t,o)=>{this._resolve=t,this._reject=o})}get promise(){return this._promise}};var ot=pe(ke(),1),_e=pe(He(),1);async function K(e){let t=(0,_e.sha256)(JSON.stringify(e)),o={...e,validationHash:t},n=await le(o),f=(0,_e.sha256)(n);return{compressed:n,compressedHash:f}}async function le(e){return(0,ot.compressToBase64)(JSON.stringify(e))}var nt=pe(ke(),1),Le=pe(He(),1);async function J(e){if(!(e?.compressed&&e?.compressedHash))throw new k(_.corruptedResponse,"Missing compressed data");let t=await de(e.compressed);if(!t)throw new k(_.corruptedResponse,"Invalid compressed data");if(!t?.validationHash)throw new k(_.corruptedResponse,"Missing validation hash");if((0,Le.sha256)(e.compressed)!==e.compressedHash)throw new k(_.corruptedResponse,"Invalid compressed hash");let{validationHash:n,...f}=t;if((0,Le.sha256)(JSON.stringify(f))!==t.validationHash)throw new k(_.corruptedResponse,"Invalid data validation hash");return t}async function de(e){let t=await(0,nt.decompressFromBase64)(e);try{return JSON.parse(t)}catch(o){return console.error("Invalid compressed data",o),null}}var Q="nexus-wallet-backup";function at(){let e=new Map;return{createChannel:t=>{let o=Math.random().toString(36).substring(7);return e.set(o,t),o},getRpcResolver:t=>e.get(t),removeChannel:t=>e.delete(t),destroy:()=>e.clear()}}var me={id:"nexus-wallet",name:"nexus-wallet",allow:"publickey-credentials-get *; clipboard-write; web-share *",style:{width:"0",height:"0",border:"0",position:"absolute",zIndex:1e3,top:"-1000px",left:"-1000px"}};function Ue({walletBaseUrl:e}){if(document.querySelector("#nexus-wallet"))return Promise.resolve(void 0);let o=document.createElement("iframe");return o.id=me.id,o.name=me.name,o.allow=me.allow,o.style.zIndex=me.style.zIndex.toString(),ze({iframe:o,isVisible:!1}),document.body.appendChild(o),new Promise(n=>{o?.addEventListener("load",()=>n(o)),o.src=`${e}/listener`})}function ze({iframe:e,isVisible:t}){if(!t){e.style.width="0",e.style.height="0",e.style.border="0",e.style.position="fixed",e.style.top="-1000px",e.style.left="-1000px";return}e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.pointerEvents="auto"}function it({iframe:e}){let t=new Z;return{handleEvent:async n=>{switch(n.iframeLifecycle){case"connected":t.resolve(!0);break;case"do-backup":n.data.backup?localStorage.setItem(Q,n.data.backup):localStorage.removeItem(Q);break;case"remove-backup":localStorage.removeItem(Q);break;case"show":case"hide":ze({iframe:e,isVisible:n.iframeLifecycle==="show"});break}},isConnected:t.promise}}function st({nexusWalletUrl:e,iframe:t,channelManager:o,iframeLifecycleManager:n}){if(typeof window>"u")throw new k(_.configError,"iframe client should be used in the browser");if(!t.contentWindow)throw new k(_.configError,"The iframe does not have a product window");let f=t.contentWindow,b=async p=>{if(console.log("event",p),console.log("event.data",p.data),!p.origin||new URL(p.origin).origin.toLowerCase()!==new URL(e).origin.toLowerCase())return;if("iframeLifecycle"in p.data){await n.handleEvent(p.data);return}if("clientLifecycle"in p.data){console.error("Client lifecycle event received on the client side, dismissing it");return}let T=p.data.id,x=o.getRpcResolver(T);x&&await x(p.data)};return window.addEventListener("message",b),{sendEvent:p=>{f.postMessage(p,{targetOrigin:e})},cleanup:()=>{window.removeEventListener("message",b)}}}function Ne({config:e,iframe:t}){let o=at(),n=it({iframe:t}),f=st({nexusWalletUrl:e.walletUrl,iframe:t,channelManager:o,iframeLifecycleManager:n}),b=async T=>{if(!await n.isConnected)throw new k(_.clientNotConnected,"The iframe provider isn't connected yet");let u=new Z,d=o.createChannel(async h=>{let r=await J(h.data);r.error?u.reject(new k(r.error.code,r.error.message,r.error?.data)):u.resolve(r.result),o.removeChannel(d)}),a=await K(T);return f.sendEvent({id:d,topic:T.method,data:a}),u.promise},I=async(T,x)=>{if(!await n.isConnected)throw new k(_.clientNotConnected,"The iframe provider isn't connected yet");let d=o.createChannel(async h=>{let r=await J(h.data);if(r.result)x(r.result);else throw new fe("No valid result in the response")}),a=await K(T);f.sendEvent({id:d,topic:T.method,data:a})},v=async()=>{o.destroy(),f.cleanup(),t.remove()},p=cr({config:e,messageHandler:f,lifecycleManager:n});return{config:e,waitForConnection:n.isConnected,waitForSetup:p,request:b,listenerRequest:I,destroy:v}}async function cr({config:e,messageHandler:t,lifecycleManager:o}){await o.isConnected;let n=async()=>{let b=e.metadata.css;b&&t.sendEvent({clientLifecycle:"modal-css",data:{cssLink:b}})},f=async()=>{if(typeof window>"u")return;let b=window.localStorage.getItem(Q);b&&t.sendEvent({clientLifecycle:"restore-backup",data:{backup:b}})};await Promise.all([n(),f()])}var ct="nCtx";async function pt({url:e}){if(!e)return null;let o=new URL(e).searchParams.get(ct);if(!o)return null;let n=await de(o);return n||null}async function pr({url:e,context:t}){if(!e)return null;let o=await pt({url:e}),n=o?{...o,...t}:t,f=await le(n);if(!f)return;let b=new URL(e);return b.searchParams.set(ct,f),b.toString()}var De={parse:pt,update:pr};var D={dapp:1,press:2,referral:30},ft=Object.entries(D).reduce((e,[t,o])=>(e[t]=BigInt(1)<<BigInt(o),e),{});function ut(e,t){return e.listenerRequest({method:"frak_listenToWalletStatus"},t)}var Te=256,Ae;function qt(e=11){if(!Ae||Te+e>256*2){Ae="",Te=0;for(let t=0;t<256;t++)Ae+=(256+Math.random()*256|0).toString(16).substring(1)}return Ae.substring(Te,Te+++e)}Ie();Wt();jt();ye();function Kt({domain:e}){return Ze(N(e))}async function Jt(e,{productId:t,interaction:o,validation:n}){let f=t??Kt(e.config);return await e.request({method:"frak_sendInteraction",params:[f,o,n]})}async function te(e,{steps:t,metadata:o}){return await e.request({method:"frak_displayModal",params:[t,e.config.metadata.name,o]})}async function Gt(e,t){let{metadata:o}=e.config;await e.request({method:"frak_sso",params:[t,o.name,o.css]})}function Qe(){return qt(96)}async function Xt(e,{siwe:t,metadata:o}){let n=t?.statement??`I confirm that I want to use my Nexus wallet on: ${e.config.metadata.name}`,f={...t,statement:n,nonce:t?.nonce??Qe(),uri:t?.uri??`https://${e.config.domain}`,version:t?.version??"1",domain:e.config.domain};return(await te(e,{metadata:o,steps:{login:{},siweAuthenticate:{siwe:f}}})).siweAuthenticate}async function Yt(e,{tx:t,metadata:o}){return(await te(e,{metadata:o,steps:{login:{},sendTransaction:{tx:t}}})).sendTransaction}var Ce={OpenArticle:"0xc0a24ffb",ReadArticle:"0xd5bd0fbe"};function Cr({articleId:e}){let t=X([Ce.OpenArticle,L(e,{size:32})]);return{handlerTypeDenominator:N(D.press),interactionData:t}}function Rr({articleId:e}){let t=X([Ce.ReadArticle,L(e,{size:32})]);return{handlerTypeDenominator:N(D.press),interactionData:t}}var Zt={openArticle:Cr,readArticle:Rr};var Re={CreateLink:"0xb2c0f17c",Referred:"0x010cc3b9"};function Pr(){let e=X([Re.CreateLink,"0x"]);return{handlerTypeDenominator:N(D.referral),interactionData:e}}function Mr({referrer:e}){let t=X([Re.Referred,L(e,{size:32})]);return{handlerTypeDenominator:N(D.referral),interactionData:t}}var Qt={createLink:Pr,referred:Mr};return sr(Br);})();
/*! Bundled license information:

js-sha256/src/sha256.js:
  (**
   * [js-sha256]{@link https://github.com/emn178/js-sha256}
   *
   * @version 0.11.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2014-2024
   * @license MIT
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
