{% assign button_class = block.settings.button_style | prepend: 'button--' %}

{% assign full_width_class = '' %}
{% if block.settings.full_width == true %}
  {% assign full_width_class = 'button--full-width' %}
{% endif %}

<button
    type="button"
    onClick="window.FrakSetup.modalShare()"
    class="button {{ button_class }} {{ full_width_class }} frak-share-button-custom"
    {% if block.settings.button_style == 'custom' %}
      data-custom-colors="true"
    {% endif %}
    data-frak-share-button
    disabled
>
    <span>
      {{ 'share_btn.label' | t }}
    </span>
</button>

{% style %}
  .frak-share-button-custom[data-custom-colors="true"] {
    background-color: {{ block.settings.background_color }};
    color: {{ block.settings.text_color }};
  }
{% endstyle %}

{% schema %}
{
  "name": "Frak Sharing Button",
  "target": "section",
  "settings": [
    {
      "type": "select",
      "id": "button_style",
      "label": "Button Style",
      "options": [
        {
          "value": "primary",
          "label": "Primary"
        },
        {
          "value": "secondary",
          "label": "Secondary"
        },
        {
          "value": "custom",
          "label": "Custom Colors"
        }
      ],
      "default": "primary"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Full Width",
      "default": true
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Button color"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Button text color"
    }
  ]
}
{% endschema %}
